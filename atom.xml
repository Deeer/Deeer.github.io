<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Dee+&#39;s Blog</title>
  <icon>https://www.gravatar.com/avatar/9ec463cf5332e6bd2a44e71301afafd3</icon>
  <subtitle>å£«ä¸å¯ä»¥ä¸å¼˜æ¯…ï¼Œä»»é‡è€Œé“è¿œã€‚</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://deeer.github.io/"/>
  <updated>2018-07-07T09:12:01.756Z</updated>
  <id>http://deeer.github.io/</id>
  
  <author>
    <name>Deeer</name>
    <email>dee_code@163.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>åº”ç”¨å¯åŠ¨æµç¨‹æ€»è§ˆ</title>
    <link href="http://deeer.github.io/2018/07/07/%E5%BA%94%E7%94%A8%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%E6%80%BB%E8%A7%88/"/>
    <id>http://deeer.github.io/2018/07/07/åº”ç”¨å¯åŠ¨æµç¨‹æ€»è§ˆ/</id>
    <published>2018-07-07T07:13:53.000Z</published>
    <updated>2018-07-07T09:12:01.756Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h1><p>åœ¨ç¼–è¯‘ä¹‹å‰ï¼Œå°±è¿›è¡Œè¯æ³•å’Œè¯­æ³•çš„åˆ†æï¼Œæ¥ç€å°†æºä»£ç ç¿»è¯‘æˆä¸­é—´ä»£ç ï¼Œä¹Ÿå°±æ˜¯æ±‡ç¼–è¯­è¨€ã€‚<br>ç¼–è¯‘ç¨‹åºå·¥ä½œæ—¶ï¼Œä¼šå…ˆåˆ†æï¼Œæœ€åå¾—åˆ°ç›®æ ‡ç¨‹åºï¼Œæ‰€è°“çš„åˆ†æä¹Ÿå°±æ˜¯å¯¹è¯æ³•å’Œè¯­æ³•çš„åˆ†æã€‚ç¿»è¯‘æˆæ±‡ç¼–ï¼Œæœ€åç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶</p><h1 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h1><p>æ¯ä¸ªç±»éƒ½ä¼šè¢«ç¼–è¯‘æˆä¸åŒçš„ç›®æ ‡æ–‡ä»¶ï¼Œé“¾æ¥å™¨å°±æ˜¯å°†æ¯ä¸ªæ–‡ä»¶ä¸²èµ·æ¥ï¼Œç›¸ä¼šè°ƒç”¨ï¼Œç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆ<code>Mach-O</code>æ ¼å¼ï¼‰</p><h1 id="è£…è½½"><a href="#è£…è½½" class="headerlink" title="è£…è½½"></a>è£…è½½</h1><p>æŠŠå·²ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶æ”¾åˆ°æ“ä½œç³»ç»Ÿçš„ä¸“å±è¿›ç¨‹ä¸‹ï¼Œå¹¶æ‰¾åˆ°æœºå™¨å¯è¯†åˆ«çš„æ±‡ç¼–ä»£ç å…¥å£ï¼Œå¼€å§‹æŒ‰ç…§æ±‡ç¼–å»æ‰§è¡Œæœºå™¨ç ï¼Œå¹¶èƒ½ä¸æ“ä½œç³»ç»Ÿçº§åˆ«çš„APIå¯¹æ¥ã€‚</p><h1 id="å‘ˆç°"><a href="#å‘ˆç°" class="headerlink" title="å‘ˆç°"></a>å‘ˆç°</h1><p>æ•´ä¸ªç¼–è¯‘ã€é“¾æ¥ã€è£…è½½å®Œæˆä¹‹åï¼Œå°±ä¼šå›åˆ°<code>mian()</code>å‡½æ•°ï¼Œæ¸…ç©ºä¹‹å‰çš„æ‰€æœ‰çº¿ç¨‹ï¼Œå¹¶æ ¹æ®ä»£ç é€»è¾‘è¿›è¡Œappå±•ç¤º</p><hr><h1 id="æ’æ’­"><a href="#æ’æ’­" class="headerlink" title="æ’æ’­"></a>æ’æ’­</h1><blockquote><p>ç¼–è¯‘å‹è¯­è¨€ vs è§£é‡Šå‹è¯­è¨€</p></blockquote><ul><li><p>ç¼–è¯‘å‹è¯­è¨€æœ‰å•ç‹¬çš„ç¼–è¯‘è¿‡ç¨‹</p></li><li><p>è§£é‡Šå‹è¯­è¨€åœ¨è¿è¡Œçš„æ—¶å€™å°†ç¨‹åºç¿»è¯‘æˆæœºå™¨è¯­è¨€ï¼Œé€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢</p></li></ul><p>##LLVMæ¶æ„</p><p><strong>ä¼ ç»Ÿçš„ç¼–è¯‘å™¨</strong>åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><ul><li><strong>å‰ç«¯</strong>ï¼šä¸»è¦è´Ÿè´£è¯­æ³•å’Œè¯æ³•ï¼Œå°†æºä»£ç ç”ŸæˆæŠ½è±¡ä»£ç æ ‘</li><li><strong>ä¼˜åŒ–å™¨</strong>ï¼š åœ¨å‰ç«¯åŸºç¡€ä¸Šå¯¹ä»£ç è¿›è¡Œä¼˜åŒ–</li><li><strong>åç«¯</strong>ï¼šå°†ä¼˜åŒ–åçš„ä¸­é—´ä»£ç è½¬ä¸ºé’ˆå¯¹å„ä¸ªå¹³å°çš„æœºå™¨ä»£ç </li></ul><p>å¦‚å›¾<br><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1ft1d6mzyv1j30d60243ye.jpg" alt=""></p><p><a href="https://www.jianshu.com/p/9fc7776cce9b" target="_blank" rel="noopener">è¿™é‡Œ</a>æ˜¯LLVMæ¶æ„çš„æ¦‚è¿°</p><blockquote><p>LLVM &amp;&amp; Clang</p></blockquote><ul><li><strong>LLVM</strong> ï¼š æ˜¯æ¶æ„ç¼–è¯‘å™¨çš„æ¡†æ¶ç³»ç»Ÿï¼Œç”¨C++å†™æˆã€‚ç”¨ä»¥ä¼˜åŒ–ä»¥ä»»æ„è¯­è¨€ç¼–å†™çš„ç¨‹åºçš„ç¼–è¯‘æ—¶é—´ï¼Œé“¾æ¥æ—¶é—´ï¼Œè¿è¡Œæ—¶é—´åŠç©ºé—²æ—¶é—´ã€‚æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¼–è¯‘å™¨æ¶æ„ï¼Œä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªç”¨äºå¼€å‘ç¼–è¯‘å™¨ã€è§£é‡Šå™¨çš„ç›¸å…³åº“</li><li><strong>Clang</strong> ï¼š C++ ç¼–å†™ï¼ŒåŸºäºLLVMBSDè®¸å¯è¯ä¸‹çš„<code>C/C++/OC++</code>ç¼–è¯‘å™¨å‰ç«¯ï¼ˆç”±<code>Apple</code>å¼€å‘ï¼Œæºä»£ç æˆæƒä½¿ç”¨<code>BSD</code>çš„å¼€æºæˆæƒï¼‰</li></ul><h2 id="dyld"><a href="#dyld" class="headerlink" title="dyld"></a>dyld</h2><p><code>dyld</code>æ˜¯<code>Apple</code>çš„åŠ¨æ€é“¾æ¥åº“ï¼Œè¿™ä¸€æ­¥éª¤æ˜¯åœ¨<strong>é“¾æ¥</strong>å®Œæˆä¹‹åçš„ç”Ÿæˆäº†<code>Mach-O</code>çš„å¯æ‰§è¡Œæ–‡ä»¶åï¼Œç³»ç»Ÿå·²ç»åšå¥½äº†ç¨‹åºå¯åŠ¨çš„å‡†å¤‡ï¼Œå¹¶å°†æ§åˆ¶æƒäº¤ç»™äº†<code>dyld</code>ã€‚<code>dyld</code>ä¸»è¦è´Ÿè´£åˆå§‹åŒ–ç¨‹åºç¯å¢ƒï¼Œå°†å¯æ‰§è¡Œæ–‡ä»¶å’Œç›¸åº”çš„ä¾èµ–ä¸åº“æ–‡ä»¶åŠ è½½è¿›å†…å­˜ç”Ÿæˆå¯¹åº”çš„<code>ImageLoader</code>ç±»ï¼ˆä¹Ÿå°±æ˜¯é•œåƒæ–‡ä»¶ï¼‰ï¼Œå¯¹è¿™äº›æ–‡ä»¶è¿›è¡Œé“¾æ¥ï¼Œæœ€åè°ƒç”¨æ¯ä¸ªä¾èµ–åº“çš„åˆå§‹åŒ–æ–¹æ³•ã€‚ä¸æ­¤åŒæ—¶ï¼Œå¯¹ç¨‹åºä¸­çš„ç±»è¿›è¡Œç±»ç»“æ„åˆå§‹åŒ–ï¼Œè°ƒç”¨ç±»å’Œåˆ†ç±»ä¸­çš„<code>load</code>æ–¹æ³•ã€‚æœ€å<code>dyld</code>è¿”å›<code>main</code>å‡½æ•°ï¼Œå¹¶åšæ¸…ç†å·¥ä½œï¼Œå›å½’è°ƒç”¨æ ˆã€‚</p><h2 id="å®Œæ•´çš„ç¼–è¯‘æµç¨‹å¦‚ä¸‹"><a href="#å®Œæ•´çš„ç¼–è¯‘æµç¨‹å¦‚ä¸‹" class="headerlink" title="å®Œæ•´çš„ç¼–è¯‘æµç¨‹å¦‚ä¸‹"></a>å®Œæ•´çš„ç¼–è¯‘æµç¨‹å¦‚ä¸‹</h2><ul><li>ç¼–è¯‘ä¿¡æ¯å†™å…¥è¾…åŠ©æ–‡ä»¶ï¼Œåˆ›å»º<code>.app</code>æ–‡ä»¶</li><li>å¤„ç†æ‰“åŒ…ä¿¡æ¯</li><li>æ‰§è¡Œ<code>CocoaPod</code>ç¼–è¯‘å‰è„šæœ¬</li><li>ç¼–è¯‘<code>.m</code>æ–‡ä»¶ï¼Œä½¿ç”¨<code>Compile</code>å’Œ<code>Clang</code>å‘½ä»¤</li><li>é“¾æ¥éœ€è¦çš„<code>Framework</code></li><li>ç¼–è¯‘<code>Xib</code></li><li>æ‹·è´<code>Xib</code>ï¼Œèµ„æºæ–‡ä»¶</li><li>ç¼–è¯‘<code>ImageAssets</code></li><li>å¤„ç†<code>info.plist</code></li><li>æ‰§è¡Œ<code>CocoaPod</code>è„šæœ¬</li><li>æ‹·è´æ ‡å‡†åº“</li><li>åˆ›å»º<code>.app</code>æ–‡ä»¶å’Œç­¾å</li></ul><hr><h1 id="mainä¹‹å"><a href="#mainä¹‹å" class="headerlink" title="mainä¹‹å"></a>mainä¹‹å</h1><blockquote><p>main</p></blockquote><p>å¤§è‡´æµç¨‹ï¼š</p><ul><li><code>main</code>å‡½æ•°</li><li>æ‰§è¡Œ<code>UIApplicationMain</code>å‡½æ•°</li><li>åˆ›å»º<code>UIApplication</code>å¯¹è±¡</li><li>åˆ›å»º<code>UIApplicationDelegate</code>å¯¹è±¡</li><li>åˆ›å»ºå¯¹åº”çš„<code>RunLoop</code>å¾ªç¯</li><li><code>UIApplication</code>å¼€å§‹å¤„ç†ç›‘å¬åˆ°çš„äº‹ä»¶</li><li>è¯»å–é…ç½®æ–‡ä»¶<code>info.plist</code>ï¼Œè®¾ç½®ç¨‹åºå¯åŠ¨çš„ä¸€äº›å±æ€§ </li><li>å¦‚æœ<code>plist</code>æ–‡ä»¶ä¸­é…ç½®äº†<code>storyboard</code>æ–‡ä»¶åï¼Œåˆ™åŠ è½½å¯¹åº”çš„<code>storyboard</code>æ–‡ä»¶ï¼Œå¹¶æ ¹æ®è¿™ä¸ªæ–‡ä»¶ä¸­å¯åŠ¨é…ç½®åŠ è½½å’Œç°å®çª—å£ï¼Œæ˜¾ç¤ºå¯¹åº”çš„æ§ä»¶ã€‚</li><li>å¦‚æœæ²¡æœ‰é…ç½®ï¼Œåˆ™æ ¹æ®<code>application:didFinishLaunchingWithOptions:</code>ä»£ç æ¥åˆ›å»º<code>UIWindow</code></li></ul><blockquote><p> UIApplication</p></blockquote><p>ä»è¿›å…¥<code>main()</code>æ–¹æ³•ä¹‹åï¼Œä¼šåˆ›å»ºä¸€ä¸ª<code>UIApplication</code>å¯¹è±¡ï¼Œä»–ä¸»è¦åšä»¥ä¸‹å‡ ä»¶äº‹:<br>1.ä»<code>StoryBoard</code>æ–‡ä»¶åŠ è½½ç”¨æˆ·ç•Œé¢<br>2.è°ƒç”¨<code>AppDelegate</code>è‡ªå®šä¹‰ä»£ç ç±»åšä¸€äº›åˆå§‹åŒ–è®¾ç½®<br>3.å°†appæ”¾å…¥<code>main Run Loop</code> ç¯å¢ƒæ¥å“åº”å’Œå¤„ç†ä¸ç”¨æˆ·äº¤äº’äº§ç”Ÿçš„äº‹ä»¶</p><blockquote><p>Main Run Loop </p></blockquote><p> ä¸»è¦ä½œç”¨ï¼šå¤„ç†æ‰€æœ‰ä¸ç”¨æˆ·ç›¸å…³çš„äº‹ä»¶ã€‚<code>UIApplication</code>å¯¹è±¡åœ¨å¯åŠ¨æ—¶å°±è®¾ç½®<code>Main Run Loop</code> å’Œä½¿ç”¨ä»–æ¥å¤„ç†å’Œæ›´æ–°åŸºäº<code>view</code>çš„ç•Œé¢</p><h1 id="è¿è¡ŒçŠ¶æ€"><a href="#è¿è¡ŒçŠ¶æ€" class="headerlink" title="è¿è¡ŒçŠ¶æ€"></a>è¿è¡ŒçŠ¶æ€</h1><p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1ft1e0ppxlnj30ft0hp0ta.jpg" alt=""></p><p><strong>NotRun</strong> : æœªè¿è¡Œ<br><strong>InActive</strong> : å¤„äº<code>Forground</code>çŠ¶æ€ï¼Œä½†ä¸æ¥æ”¶äº‹ä»¶<br><strong>Active</strong> : å¤„äº<code>Forground</code>çŠ¶æ€ï¼Œæ¥æ”¶äº‹ä»¶<br><strong>Background</strong> : å¤„äº<code>Background</code>çŠ¶æ€ï¼Œæ‰§è¡Œä»£ç <br><strong>Suspend</strong> : å¤„äº<code>Background</code>çŠ¶æ€ï¼Œä¸æ‰§è¡Œä»£ç </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ç¼–è¯‘&quot;&gt;&lt;a href=&quot;#ç¼–è¯‘&quot; class=&quot;headerlink&quot; title=&quot;ç¼–è¯‘&quot;&gt;&lt;/a&gt;ç¼–è¯‘&lt;/h1&gt;&lt;p&gt;åœ¨ç¼–è¯‘ä¹‹å‰ï¼Œå°±è¿›è¡Œè¯æ³•å’Œè¯­æ³•çš„åˆ†æï¼Œæ¥ç€å°†æºä»£ç ç¿»è¯‘æˆä¸­é—´ä»£ç ï¼Œä¹Ÿå°±æ˜¯æ±‡ç¼–è¯­è¨€ã€‚&lt;br&gt;ç¼–è¯‘ç¨‹åºå·¥ä½œæ—¶ï¼Œä¼šå…ˆåˆ†æï¼Œæœ€åå¾—åˆ°ç›®æ ‡ç¨‹åºï¼Œæ‰€è°“çš„åˆ†
      
    
    </summary>
    
    
      <category term="iOS" scheme="http://deeer.github.io/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>runtimeæºç é˜…è¯» - Category</title>
    <link href="http://deeer.github.io/2018/06/27/runtime%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%20-%20Category/"/>
    <id>http://deeer.github.io/2018/06/27/runtimeæºç é˜…è¯» - Category/</id>
    <published>2018-06-26T17:30:35.000Z</published>
    <updated>2018-06-30T06:40:09.451Z</updated>
    
    <content type="html"><![CDATA[<h2 id="runtimeæºç é˜…è¯»"><a href="#runtimeæºç é˜…è¯»" class="headerlink" title="runtimeæºç é˜…è¯»"></a>runtimeæºç é˜…è¯»</h2><p>é¦–å…ˆæ˜¯å¯¹è±¡çš„åˆå§‹åŒ–</p><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">  void _objcInit(void) &#123;</span><br><span class="line">static int _done = <span class="number">0</span>;</span><br><span class="line">int hidx;</span><br><span class="line">        <span class="comment">/* Protect against multiple invocations, as all library</span></span><br><span class="line"><span class="comment">         * initializers should. */</span></span><br><span class="line">        if (<span class="number">0</span> != _done) return;</span><br><span class="line">        _done = <span class="number">1</span>;</span><br><span class="line">ptrace(<span class="number">0xb010</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);<span class="comment">// marks call to _objcInit</span></span><br><span class="line">__initialize_objc();</span><br><span class="line"><span class="comment">/* We delay this until here, because dyld cannot detect and</span></span><br><span class="line"><span class="comment"> * properly order calls to ObjC initializers amongst the</span></span><br><span class="line"><span class="comment"> * calls to module and library initializers. */</span></span><br><span class="line">for (hidx = <span class="number">0</span>; hidx &lt; header_count; hidx += <span class="number">1</span>)</span><br><span class="line">_objc_call_loads_for_image (&amp;header_vector[hidx]);</span><br><span class="line">ptrace(<span class="number">0xb01f</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);<span class="comment">// marks call to _objcInit</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¦–å…ˆæ˜¯ä»¥ä¸‹è¿™æ®µä»£ç <br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> _done = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> hidx;</span><br><span class="line">        <span class="comment">/* Protect against multiple invocations, as all library</span></span><br><span class="line"><span class="comment">         * initializers should. */</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="number">0</span> != _done) <span class="keyword">return</span>;</span><br><span class="line">        _done = <span class="number">1</span>;</span><br></pre></td></tr></table></figure></p><p>æ­£å¦‚ä»–æ‰€å†™çš„ï¼Œè¿™ä¸ªé€»è¾‘é˜²æ­¢äº†è¢«å¤šæ¬¡è°ƒç”¨æ‰§è¡Œï¼Œä¿è¯äº†è¯¥æ–¹æ³•åªè¢«æ‰§è¡Œä¸€æ¬¡ã€‚å› ä¸ºä¸€æ—¦ç¬¬ä¸€æ¬¡æ‰§è¡Œäº†ï¼Œé‚£ä¹ˆ<code>_done</code>è¿™ä¸ªå‚æ•°å°±ä¼šè¢«èµ‹å€¼ä¸º1ï¼Œä¹‹åè°ƒç”¨å°±ä¼šç›´æ¥<code>return</code></p><p>æ¥ä¸‹æ¥ï¼Œè¿™é‡Œæœ‰ä¸ª<code>ptrace</code>æ–¹æ³•,è¿™ä¸ªæ–¹æ³•ä¸»è¦ç”¨äºæ–­ç‚¹è°ƒè¯•å’Œè¿½è¸ªç³»ç»Ÿè°ƒç”¨ã€‚å¯¹äºå®ç°æ•´ä½“çš„é€»è¾‘å®ç°æ²¡æœ‰å¤ªå¤§å½±å“ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒå¿½ç•¥ã€‚</p><p>ä¹‹åè°ƒç”¨äº†<br><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">__initialize_objc()<span class="comment">;</span></span><br></pre></td></tr></table></figure></p><p>è¯¥æ–¹æ³•æ˜¯åŠ¨æ€é“¾æ¥å™¨ç”¨æ¥åˆå§‹åŒ–åº“æ–‡ä»¶ï¼Œé€šè¿‡å¤´æ–‡ä»¶åˆ›å»ºäº†ä¸€ä¸ªå…¨å±€çš„è¿­ä»£å™¨ï¼Œå¹¶é€šè¿‡ç±»çš„<code>hash</code>è¡¨ï¼Œå’Œå¯¹åº”å¤´æ–‡ä»¶çš„è¿­ä»£å™¨æ¥è·å–<code>class</code>ã€‚</p><h2 id="category-éƒ¨åˆ†"><a href="#category-éƒ¨åˆ†" class="headerlink" title="category éƒ¨åˆ†"></a>category éƒ¨åˆ†</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/* Library initializer called by dyld. */</span></span><br><span class="line"><span class="keyword">void</span> __initialize_objc(<span class="keyword">void</span>) &#123;</span><br><span class="line"><span class="keyword">int</span> hidx;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> defined(NeXT_PDO)</span></span><br><span class="line"><span class="keyword">const</span> headerType * <span class="keyword">const</span> *headers;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ( rocketLaunchingDebug == <span class="number">-1</span> ) &#123;</span><br><span class="line">    <span class="keyword">if</span> ( getenv(<span class="string">"OBJC_UNIQUE_DEBUG"</span>) ) rocketLaunchingDebug = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> rocketLaunchingDebug = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get architecture dependent module headers</span></span><br><span class="line">headers = (<span class="keyword">const</span> headerType * <span class="keyword">const</span> *) _getObjcHeaders ();</span><br><span class="line"><span class="keyword">if</span> (headers)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// Create vector from these headers</span></span><br><span class="line">header_vector = _objc_headerVector (headers);</span><br><span class="line"><span class="keyword">if</span> (header_vector) </span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// Load classes from all images in the vector</span></span><br><span class="line"><span class="keyword">for</span> (hidx = <span class="number">0</span>; hidx &lt; header_count; hidx += <span class="number">1</span>)</span><br><span class="line">(<span class="keyword">void</span>) _objc_get_classes_from_image (class_hash, &amp;header_vector[hidx]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> defined(__MACH__)</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> _done = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">void</span> __CFInitialize(<span class="keyword">void</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Protect against multiple invocations, as all library</span></span><br><span class="line"><span class="comment"> * initializers should. */</span></span><br><span class="line"><span class="keyword">if</span> (<span class="number">0</span> != _done) <span class="keyword">return</span>;</span><br><span class="line">_done = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">ptrace(<span class="number">0xb000</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// make sure CF is initialized before we go further;</span></span><br><span class="line"><span class="comment">// someday this can be removed, as it'll probably be automatic</span></span><br><span class="line">__CFInitialize();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create the class lookup table</span></span><br><span class="line">_objc_init_class_hash ();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ptrace(0xb001, 0, 0, 0);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Get our configuration</span></span><br><span class="line">        <span class="keyword">if</span> ( rocketLaunchingDebug == <span class="number">-1</span> ) &#123;</span><br><span class="line">            <span class="keyword">if</span> ( getenv(<span class="string">"OBJC_UNIQUE_DEBUG"</span>) ) rocketLaunchingDebug = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> rocketLaunchingDebug = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ptrace(0xb003, 0, 0, 0);</span></span><br><span class="line"></span><br><span class="line">map_selectors_pended = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// XXXXX BEFORE HERE *NO* PAGES ARE STOMPED ON</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Register our image mapping routine with dyld so it</span></span><br><span class="line"><span class="comment">// gets invoked when an image is added.  This also invokes</span></span><br><span class="line"><span class="comment">// the callback right now on any images already present.</span></span><br><span class="line">_dyld_register_func_for_add_image (&amp;_objc_map_image_callback);</span><br><span class="line"></span><br><span class="line"><span class="comment">// XXXXX BEFORE HERE *ALL* PAGES ARE STOMPED ON</span></span><br><span class="line"></span><br><span class="line">map_selectors_pended  = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ptrace(0xb005, 0, 0, 0);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Register module link callback with dyld</span></span><br><span class="line">_dyld_register_func_for_link_module (&amp;_objc_link_module_callback);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Register callback with dyld</span></span><br><span class="line">_dyld_register_func_for_unlink_module (&amp;_objc_unlink_module_callback);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// MACH</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ptrace(0xb006, header_count, 0, 0);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Install relations on classes that were found</span></span><br><span class="line"><span class="keyword">for</span> (hidx = <span class="number">0</span>; hidx &lt; header_count; hidx += <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span>nModules;</span><br><span class="line"><span class="keyword">int</span>index;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">objc_module</span> *<span class="title">module</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">objc_class</span> *<span class="title">cls</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> = (struct objc_module *) ((<span class="keyword">unsigned</span> <span class="keyword">long</span>) header_vector[hidx].mod_ptr + header_vector[hidx].image_slide);</span><br><span class="line"><span class="keyword">for</span> (nModules = header_vector[hidx].mod_count; nModules; nModules -= <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (index = <span class="number">0</span>; index &lt; <span class="keyword">module</span>-&gt;symtab-&gt;cls_def_cnt; index += <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">cls = (struct objc_class *) <span class="keyword">module</span>-&gt;symtab-&gt;defs[index];</span><br><span class="line">_class_install_relationships (cls, <span class="keyword">module</span>-&gt;version);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ptrace(0xb007, hidx, header_vector[hidx].mod_count, 0);</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ptrace(0xb008, header_count, 0, 0);</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (hidx = <span class="number">0</span>; hidx &lt; header_count; hidx += <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> !defined(__MACH__)</span></span><br><span class="line">(<span class="keyword">void</span>)_objc_add_categories_from_image (&amp;header_vector[hidx]);</span><br><span class="line">(<span class="keyword">void</span>) _objc_fixup_selector_refs (&amp;header_vector[hidx]);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="comment">// Initialize the isa pointers of all NXConstantString objects</span></span><br><span class="line">(<span class="keyword">void</span>)_objc_fixup_string_objects_for_image (&amp;header_vector[hidx]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Convert class refs from name pointers to ids</span></span><br><span class="line">(<span class="keyword">void</span>)_objc_map_class_refs_for_image (&amp;header_vector[hidx]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ptrace(0xb00a, 0, 0, 0);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// For each image selectorize the method names and +_fixup each of</span></span><br><span class="line"><span class="comment">// protocols in the image</span></span><br><span class="line"><span class="keyword">for</span> (hidx = <span class="number">0</span>; hidx &lt; header_count; hidx += <span class="number">1</span>)</span><br><span class="line">_objc_fixup_protocol_objects_for_image (&amp;header_vector[hidx]);</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> defined(WIN32) || defined(__svr4__)</span></span><br><span class="line">CMH = (objcModHeader *) <span class="number">0</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">ptrace(<span class="number">0xb00f</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);<span class="comment">// end of ObjC init</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šçš„æ–¹æ³•ä¸­ï¼Œå…¶ä¸­ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„æ–¹æ³•å°±æ˜¯</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_objc_get_classes_from_image<span class="comment">()</span></span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬ç»§ç»­å¾€é‡Œæ·±å…¥è¿™ä¸ªæ–¹æ³•</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***********************************************************************</span></span><br><span class="line"><span class="comment"> * _objc_get_classes_from_image.  Install all classes contained in the</span></span><br><span class="line"><span class="comment"> * specified image.</span></span><br><span class="line"><span class="comment"> **********************************************************************/</span></span><br><span class="line"><span class="keyword">static</span> NXHashTable *_objc_get_classes_from_image   (NXHashTable *clsHash,</span><br><span class="line">header_info *hi)</span><br><span class="line">&#123;</span><br><span class="line">unsigned intindex;</span><br><span class="line">unsigned intmidx;</span><br><span class="line">Modulemods;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Major loop - process all modules in the image</span></span><br><span class="line">mods = (Module) ((unsigned long) hi-&gt;mod_ptr + hi-&gt;image_slide);</span><br><span class="line"><span class="keyword">for</span> (midx = <span class="number">0</span>; midx &lt; hi-&gt;mod_count; midx += <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// Skip module containing no classes</span></span><br><span class="line"><span class="keyword">if</span> (mods[midx].symtab == NULL)</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Minor loop - process all the classes in given module</span></span><br><span class="line"><span class="keyword">for</span> (index = <span class="number">0</span>; index &lt; mods[midx].symtab-&gt;cls_def_cnt; index += <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">struct objc_class *oldCls;</span><br><span class="line">struct objc_class *<span class="keyword">new</span><span class="type">Cls</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Locate the class description pointer</span></span><br><span class="line"><span class="keyword">new</span><span class="type">Cls</span> = mods[midx].symtab-&gt;defs[index];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Convert old style method list to the new style</span></span><br><span class="line">_objcTweakMethodListPointerForClass (<span class="keyword">new</span><span class="type">Cls</span>);</span><br><span class="line"></span><br><span class="line">oldCls = NXHashInsert (clsHash, <span class="keyword">new</span><span class="type">Cls</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Non-Nil oldCls is a class that NXHashInsert just</span></span><br><span class="line"><span class="comment">// bumped from table because it has the same name</span></span><br><span class="line"><span class="comment">// as newCls</span></span><br><span class="line"><span class="keyword">if</span> (oldCls)</span><br><span class="line">&#123;</span><br><span class="line">        <span class="meta">#<span class="meta-keyword">if</span> defined(__MACH__)</span></span><br><span class="line">const header_info *oldHeader;</span><br><span class="line">const header_info *<span class="keyword">new</span><span class="type">Header</span>;</span><br><span class="line">const char *oldName;</span><br><span class="line">const char *<span class="keyword">new</span><span class="type">Name</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Log the duplication</span></span><br><span class="line">oldHeader = _headerForClass (oldCls);</span><br><span class="line"><span class="keyword">new</span><span class="type">Header</span> = _headerForClass (<span class="keyword">new</span><span class="type">Cls</span>);</span><br><span class="line">oldName   = _nameForHeader  (oldHeader-&gt;mhdr);</span><br><span class="line"><span class="keyword">new</span><span class="type">Name</span>   = _nameForHeader  (<span class="keyword">new</span><span class="type">Header</span>-&gt;mhdr);</span><br><span class="line">_objc_inform (<span class="string">"Both %s and %s have implementations of class %s."</span>,</span><br><span class="line">oldName, <span class="keyword">new</span><span class="type">Name</span>, oldCls-&gt;name);   </span><br><span class="line">_objc_inform (<span class="string">"Using implementation from %s."</span>, <span class="keyword">new</span><span class="type">Name</span>);</span><br><span class="line">                <span class="meta">#endif</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Use the chosen class</span></span><br><span class="line"><span class="comment">// <span class="doctag">NOTE:</span> Isn't this a NOP?</span></span><br><span class="line"><span class="keyword">new</span><span class="type">Cls</span> = objc_lookUpClass (oldCls-&gt;name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Unless newCls was a duplicate, and we chose the</span></span><br><span class="line"><span class="comment">// existing one instead, set the version in the meta-class</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">new</span><span class="type">Cls</span> != oldCls)</span><br><span class="line"><span class="keyword">new</span><span class="type">Cls</span>-&gt;isa-&gt;version = mods[midx].version;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Install new categories intended for this class</span></span><br><span class="line"><span class="comment">// <span class="doctag">NOTE:</span> But, if we displaced an existing "isEqual"</span></span><br><span class="line"><span class="comment">// class, the categories have already been installed</span></span><br><span class="line"><span class="comment">// on an old class and are gone from the registry!!</span></span><br><span class="line">_objc_resolve_categories_for_class (<span class="keyword">new</span><span class="type">Cls</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Resolve (a) pointers to the named class, and/or</span></span><br><span class="line"><span class="comment">// (b) the super_class, cache, and version</span></span><br><span class="line"><span class="comment">// fields of newCls and its meta-class</span></span><br><span class="line"><span class="comment">// <span class="doctag">NOTE:</span> But, if we displaced an existing "isEqual"</span></span><br><span class="line"><span class="comment">// class, this has already been done... with an</span></span><br><span class="line"><span class="comment">// old-now-"unused" class!!</span></span><br><span class="line">checkForPendingClassReferences (<span class="keyword">new</span><span class="type">Cls</span>);</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> defined(NeXT_PDO) // GENERIC_OBJ_FILE</span></span><br><span class="line"><span class="comment">// Invoke registered callback</span></span><br><span class="line"><span class="keyword">if</span> (load_class_callback)</span><br><span class="line">(*load_class_callback) (<span class="keyword">new</span><span class="type">Cls</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Call +finishLoading:: from the class' method list</span></span><br><span class="line">send_load_message_to_class (<span class="keyword">new</span><span class="type">Cls</span>, (headerType *) hi-&gt;mhdr);</span><br><span class="line"><span class="meta">#endif</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Return the table the caller passed</span></span><br><span class="line"><span class="keyword">return</span> clsHash;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»é¡¶éƒ¨çš„æ³¨é‡Šä¸­ï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£åˆ°ï¼Œè¿™ä¸ªæ–¹æ³•ç”¨äºåŠ è½½æŒ‡å®šé•œåƒä¸­çš„æ‰€æœ‰çš„ç±»<br>è¿™é‡Œæˆ‘ä»¬å…³æ³¨çš„æ˜¯categoryçš„éƒ¨åˆ†ï¼Œæ‰€ä»¥æˆ‘ä»¬çœ‹åˆ°è¡Œä»£ç <br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   // <span class="keyword">Install</span> <span class="keyword">new</span> categories intended <span class="keyword">for</span> this <span class="keyword">class</span></span><br><span class="line">// NOTE: But, <span class="keyword">if</span> we displaced an existing <span class="string">"isEqual"</span></span><br><span class="line">// <span class="keyword">class</span>, the categories have already been installed</span><br><span class="line">// <span class="keyword">on</span> an <span class="keyword">old</span> <span class="keyword">class</span> <span class="keyword">and</span> <span class="keyword">are</span> gone <span class="keyword">from</span> the registry!!</span><br><span class="line">_objc_resolve_categories_for_class (newCls);</span><br></pre></td></tr></table></figure></p><p>è¯¥æ–¹æ³•è¢«ç”¨äºåŠ è½½æ–°çš„<code>category</code>ï¼Œæ³¨é‡Šä¸­ä¹Ÿæåˆ°äº†ï¼Œå¦‚æœæˆ‘ä»¬å–ä»£äº†å·²ç»å­˜åœ¨çš„åŒä¸€ä¸ªç±»ï¼Œé‚£ä¹ˆä¹‹å‰å·²ç»è¢«åŠ è½½åœ¨æ—§çš„ç±»ä¸Šçš„<code>category</code>å°±ä¼šä»å¯„å­˜å™¨ä¸­æ¶ˆå¤±</p><p>å¯¹åº”çš„æ˜¯ç°å®è¿™æ ·çš„</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="markdown">/<span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span>*</span></span></span><br><span class="line"><span class="comment"><span class="markdown"> * <span class="emphasis">_objc_</span>resolve<span class="emphasis">_categories_</span>for_class.  Install all categories intended</span></span></span><br><span class="line"><span class="comment"><span class="markdown"> * for </span>the<span class="markdown"> specified class, in reverse order from </span>the<span class="markdown"> order in which we</span></span></span><br><span class="line"><span class="comment"><span class="markdown"> * found </span>the<span class="markdown"> categories in </span>the<span class="markdown"> image.</span></span></span><br><span class="line"><span class="comment"><span class="markdown"> <span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span>/</span></span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">void</span>_objc_resolve_categories_for_class  (struct objc_class *cls)</span><br><span class="line">&#123;</span><br><span class="line">_objc_unresolved_category *cat;</span><br><span class="line">_objc_unresolved_category *next;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Nothing to do if there are no categories at all</span></span><br><span class="line"><span class="keyword">if</span> (!category_hash)</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Locate and remove first element in category list</span></span><br><span class="line"><span class="comment">// associated with this class</span></span><br><span class="line">cat = NXMapRemove (category_hash, cls-&gt;name);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Traverse the list of categories, if any, registered for this class</span></span><br><span class="line"><span class="keyword">while</span> (cat)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// Install the category</span></span><br><span class="line">_objc_add_category (cat-&gt;cat, cat-&gt;version);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Delink and reclaim this registration</span></span><br><span class="line">next = cat-&gt;next;</span><br><span class="line">free (cat);</span><br><span class="line">cat = next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬è§‚å¯Ÿåˆ°æœ‰ä¸ªå«<code>category_hash</code>çš„å“ˆå¸Œè¡¨ï¼Œä¹‹åéå†å•å‘é“¾è¡¨ç»“æ„ï¼Œå°†å¯¹åº”çš„<code>category</code>æ·»åŠ åˆ°å¯¹è±¡ä¸­</p><p>è¿™é‡Œæˆ‘ä»¬ä¼šæœ‰ä¸¤ä¸ªç–‘é—®ğŸ¤”ï¸</p><p>1.<code>category_hash</code>è¿™ä¸ªå˜é‡é‚£é‡Œæ¥çš„ï¼Ÿ<br>2.<code>_objc_add_category</code>åˆåšäº†ä»€ä¹ˆæ“ä½œï¼Ÿ</p><hr><p>é‚£ä¹ˆæˆ‘ä»¬å…ˆè§£ç­”ç¬¬ä¸€ä¸ª</p><blockquote><p>1.<code>category_hash</code>è¿™ä¸ªå˜é‡é‚£é‡Œæ¥çš„ï¼Ÿ</p></blockquote><p>äº‹å®ä¸Šï¼Œ<code>category_hash</code>æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡<br><figure class="highlight monkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// Category <span class="literal">and</span> <span class="class"><span class="keyword">class</span> <span class="title">registries</span></span></span><br><span class="line">static NXMapTable *category_hash = <span class="literal">NULL</span>;</span><br></pre></td></tr></table></figure></p><p>åœ¨<code>__initialize_objc()</code>è¿™ä¸ªæ–¹æ³•ä¸­æœ‰è¿™æ ·ä¸€è¡Œä»£ç </p><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> <span class="comment">// Register our image mapping routine with dyld so it</span></span><br><span class="line"><span class="comment">// gets invoked when an image is added.  This also invokes</span></span><br><span class="line"><span class="comment">// the callback right now on any images already present.</span></span><br><span class="line"><span class="variable">_dyld_register_func_for_add_image</span> (&amp;<span class="variable">_objc_map_image_callback</span>);</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªæ–¹å¼ä¸­ï¼Œæˆ‘ä»¬ä¼ å…¥äº†ä¸€ä¸ªå›è°ƒæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´å½“æ¯ä¸ªé•œåƒè¢«åŠ è½½çš„æ—¶å€™éƒ½ä¼šè°ƒç”¨è¿™ä¸ªå›è°ƒæ–¹æ³•ï¼Œå…·ä½“å¯è§<a href="http://mirror.informatimago.com/next/developer.apple.com/documentation/DeveloperTools/Conceptual/MachORuntime/5rt_api_reference/chapter_11_section_46.html" target="_blank" rel="noopener">è¿™é‡Œ</a></p><p>ä¹‹åç»è¿‡ä¸€ç³»åˆ—è°ƒç”¨æœ€ç»ˆåœ¨<code>_objc_register_category</code>è¿™ä¸ªæ–¹æ³•ä¸­åˆ›å»ºäº†è¿™ä¸ª<code>category</code>å“ˆå¸Œè¡¨</p><p><strong>æ‰€ä»¥</strong></p><p>è¿™ä¸ªå“ˆå¸Œè¡¨çš„åˆ›å»ºæ˜¯åœ¨æ¯æ¬¡é•œåƒè¢«åŠ è½½æ—¶åˆ›å»ºçš„ï¼ŒåŒæ—¶ä»–ä¹Ÿä¼šå»åšå¯¹æ¯”ï¼Œå¦‚æœå‡ºç°é‡å¤å°±ä¼šè¿›è¡Œæ›¿æ¢æ“ä½œ</p><hr><blockquote><p>2.<code>_objc_add_category</code>åˆåšäº†ä»€ä¹ˆæ“ä½œï¼Ÿ</p></blockquote><p>ç›´æ¥çœ‹ä»£ç </p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="markdown">/<span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span>*</span></span></span><br><span class="line"><span class="comment"><span class="markdown"> * <span class="emphasis">_objc_</span>add_category.  Install </span>the<span class="markdown"> specified category's methods into</span></span></span><br><span class="line"><span class="comment"><span class="markdown"> * </span>the<span class="markdown"> class it augments, and flush </span>the<span class="markdown"> class' method cache.</span></span></span><br><span class="line"><span class="comment"><span class="markdown"> *</span></span></span><br><span class="line"><span class="comment"><span class="markdown"> * Private extern used by objc_loadModules ()</span></span></span><br><span class="line"><span class="comment"><span class="markdown"> <span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span>/</span></span></span><br><span class="line"><span class="keyword">void</span>_objc_add_category     (struct objc_category *category,</span><br><span class="line"><span class="built_in">int</span>version)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// Install the category's methods into its intended class</span></span><br><span class="line">__objc_add_category (category, version);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Flush caches so category's methods can get called</span></span><br><span class="line">_objc_flush_caches (objc_lookUpClass (category-&gt;class_name));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨é‡Šååˆ†æ¸…æ™°ï¼Œä¸»è¦å¹²äº†<strong>ä¸¤ä»¶äº‹</strong></p><ul><li>1.åŠ è½½ç‰¹å®šç±»æ–¹æ³•</li><li>2.åˆ·æ–°ç±»çš„æ–¹æ³•ç¼“å­˜</li></ul><p>å…³äº<code>__objc_add_category</code>æˆ‘ä»¬éœ€è¦è¿›ä¸€æ­¥å»æ·±å…¥</p><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***********************************************************************</span></span><br><span class="line"><span class="comment"> * __objc_add_category.  Install the specified category's methods and</span></span><br><span class="line"><span class="comment"> * protocols into the class it augments.</span></span><br><span class="line"><span class="comment"> **********************************************************************/</span></span><br><span class="line">static inline void__objc_add_category    (struct objc_category *category,</span><br><span class="line">intversion)</span><br><span class="line">&#123;</span><br><span class="line">struct objc_class *cls;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Locate the class that the category will extend</span></span><br><span class="line"><span class="function"><span class="title">cls</span> = (struct objc_class *) objc_getClass (category-&gt;</span>class_name);</span><br><span class="line"><span class="keyword">if</span> (!cls)</span><br><span class="line">&#123;</span><br><span class="line">_<span class="function"><span class="title">objc_inform</span> ("unable to add category %s...\n", category-&gt;</span>category_name);</span><br><span class="line">_<span class="function"><span class="title">objc_inform</span> ("class `%s' <span class="built_in">not</span> linked into application\n", category-&gt;</span>class_name);</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Augment instance methods</span></span><br><span class="line"><span class="function"><span class="title">if</span> (category-&gt;</span>instance_methods)</span><br><span class="line">_<span class="function"><span class="title">objc_insertMethods</span> (category-&gt;</span><span class="function"><span class="title">instance_methods</span>, &amp;cls-&gt;</span>methodLists);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Augment class methods</span></span><br><span class="line"><span class="function"><span class="title">if</span> (category-&gt;</span>class_methods)</span><br><span class="line">_<span class="function"><span class="title">objc_insertMethods</span> (category-&gt;</span><span class="function"><span class="title">class_methods</span>, &amp;cls-&gt;</span><span class="function"><span class="title">isa</span>-&gt;</span>methodLists);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Augment protocols</span></span><br><span class="line"><span class="function"><span class="title">if</span> ((version &gt;= 5) &amp;&amp; category-&gt;</span>protocols)</span><br><span class="line">&#123;</span><br><span class="line"><span class="function"><span class="title">if</span> (cls-&gt;</span><span class="function"><span class="title">isa</span>-&gt;</span>version &gt;= <span class="number">5</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="function"><span class="title">category</span>-&gt;</span><span class="function"><span class="title">protocols</span>-&gt;</span><span class="function"><span class="title">next</span> = cls-&gt;</span>protocols;</span><br><span class="line"><span class="function"><span class="title">cls</span>-&gt;</span><span class="function"><span class="title">protocols</span>          = category-&gt;</span>protocols;</span><br><span class="line"><span class="function"><span class="title">cls</span>-&gt;</span><span class="function"><span class="title">isa</span>-&gt;</span><span class="function"><span class="title">protocols</span>       = category-&gt;</span>protocols;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">_<span class="function"><span class="title">objc_inform</span> ("unable to add protocols from category %s...\n", category-&gt;</span>category_name);</span><br><span class="line">_<span class="function"><span class="title">objc_inform</span> ("class `%s' must be recompiled\n", category-&gt;</span>class_name);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#<span class="keyword">if</span> defined(NeXT_PDO) <span class="comment">// GENERIC_OBJ_FILE</span></span><br><span class="line"><span class="comment">// Call back</span></span><br><span class="line"><span class="keyword">if</span> (load_class_callback)</span><br><span class="line">(*load_class_callback) (cls, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Call +finishLoading:: from the category's method list</span></span><br><span class="line">send_load_message_to_category (category, (void *) header_vector[<span class="number">0</span>].mhdr);</span><br><span class="line">#endif</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä»–ä¼šåˆ†åˆ«å¯¹<strong>å®ä¾‹å¯¹è±¡çš„æ–¹æ³•åˆ—è¡¨</strong>å’Œ<strong>ç±»å¯¹è±¡çš„æ–¹æ³•åˆ—è¡¨</strong>åˆ†åˆ«æ·»åŠ å®ä¾‹æ–¹æ³•å’Œç±»æ–¹æ³•ã€‚</p><p>æ€»ç»“ï¼š </p><p>1.<code>dyld</code>åœ¨æ¯æ¬¡åŠ è½½é•œåƒçš„æ—¶å€™ï¼Œéƒ½ä¼šè°ƒç”¨å›è°ƒæ–¹æ³•ï¼Œè®©ç³»ç»Ÿç”Ÿæˆç±»å¯¹åº”çš„<code>category</code>å“ˆå¸Œè¡¨<br>2.æ¯æ¬¡å¯¹åº”æ·»åŠ æ–¹æ³•æ—¶éƒ½ä¼šæ˜¯åˆ†åˆ«æ·»åŠ å¯¹åº”çš„å®ä¾‹æ–¹æ³•å’Œç±»æ–¹æ³•</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;runtimeæºç é˜…è¯»&quot;&gt;&lt;a href=&quot;#runtimeæºç é˜…è¯»&quot; class=&quot;headerlink&quot; title=&quot;runtimeæºç é˜…è¯»&quot;&gt;&lt;/a&gt;runtimeæºç é˜…è¯»&lt;/h2&gt;&lt;p&gt;é¦–å…ˆæ˜¯å¯¹è±¡çš„åˆå§‹åŒ–&lt;/p&gt;
&lt;figure class=&quot;highl
      
    
    </summary>
    
      <category term="ScourceCode" scheme="http://deeer.github.io/categories/ScourceCode/"/>
    
    
      <category term="Runtime" scheme="http://deeer.github.io/tags/Runtime/"/>
    
  </entry>
  
  <entry>
    <title>åŠ å¯†ç›¸å…³ï¼ˆäºŒï¼‰</title>
    <link href="http://deeer.github.io/2018/06/25/%E5%8A%A0%E5%AF%86%E7%9B%B8%E5%85%B3%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <id>http://deeer.github.io/2018/06/25/åŠ å¯†ç›¸å…³ï¼ˆäºŒï¼‰/</id>
    <published>2018-06-25T07:44:42.000Z</published>
    <updated>2018-06-25T08:33:46.237Z</updated>
    
    <content type="html"><![CDATA[<p>åŸºäºç¬¬ä¸€ç¯‡æ–‡ç« çš„ä»‹ç»ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥èŠèŠæ—¥å¸¸ç”Ÿæ´»ä¸­çš„éƒ½ä¼šæ¥è§¦åˆ°çš„åŠ å¯†åº”ç”¨æ–¹å¼â€“<code>HTTPS</code></p><h2 id="HTTP-vs-HTTPS"><a href="#HTTP-vs-HTTPS" class="headerlink" title="HTTP vs HTTPS"></a>HTTP vs HTTPS</h2><p><code>HTTP</code>å…¨ç§°<code>Hyper Text Transfer Protocal</code>(è¶…æ–‡æœ¬ä¼ è¾“åè®®)æ˜¯ä¸‡ç»´ç½‘æœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬åè®®åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ï¼Œæ˜¯ä¸€ä¸ªå±äºåº”ç”¨å±‚çš„é¢å‘å¯¹è±¡çš„åè®®ã€‚</p><p><code>HTTPS</code>å…¨ç§°<code>Secure Hypertext Transfer Protocol</code>å®‰å…¨è¶…æ–‡æœ¬ä¼ è¾“åè®®ã€‚</p><h2 id="SSL-or-TLS"><a href="#SSL-or-TLS" class="headerlink" title="SSL or TLS"></a>SSL or TLS</h2><p>åœ¨<code>HTTPS</code>ä¸­çš„<code>S</code>å¯ä»¥æ˜¯<code>SSL</code>æˆ–è€…<code>TLS</code>ã€‚</p><p><code>SSL</code>å…¨ç§°<code>Secure Socket Layer</code>å®‰å…¨å¥—æ¥å­—å±‚ï¼Œä½äºå¯é çš„é¢å‘è¿æ¥çš„ç½‘ç»œåè®®å’Œåº”ç”¨å±‚åè®®å±‚ã€‚<code>SSL</code>é€šè¿‡äº’ç›¸è®¤è¯ã€ä½¿ç”¨æ•°å­—è¯ä¹¦ä¿è¯å®Œæ•´æ€§ï¼Œä½¿ç”¨åŠ å¯†ç¡®ä¿ç§å¯†æ€§ï¼Œä»¥å®ç°å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„å®‰å…¨é€šè®¯ã€‚è¯¥åè®®ç”±ä¸¤å±‚ç»„æˆ: <code>SSL</code>è®°å½•åè®®å’Œ<code>SSL</code>æ¡æ‰‹åè®®ã€‚<code>SSL</code>æ˜¯<code>Netscape</code>å¼€å‘çš„ä¸“é—¨ç”¨äºä¿æŠ¤<code>Web</code>é€šè®¯çš„ã€‚</p><p><code>TLS</code>å…¨ç§°<code>Transport Layer Security</code>å®‰å…¨ä¼ è¾“å±‚åè®®ï¼Œç”¨äºä¸¤ä¸ªåº”ç”¨ä¹‹é—´æä¾›ä¿å¯†æ€§å’Œæ•°æ®å®Œæ•´æ€§ã€‚è¯¥åè®®ç”±ä¸¤å±‚ç»„æˆ:  <code>TSL</code>è®°å½•åè®®å’Œ<code>TSL</code>æ¡æ‰‹åè®®ã€‚<br> <a id="more"></a> </p><p><strong>è”ç³»</strong>ï¼šç½‘æ™¯å…¬å¸ä¸ºäº†ä¿æŠ¤ç½‘ç»œä¼ è¾“ï¼Œå‘æ˜äº†SSLï¼Œåˆ°äº†1999å¹´ï¼ŒSSLå› ä¸ºåº”ç”¨å¹¿æ³›ï¼Œå·²ç»æˆä¸ºäº’è”ç½‘ä¸Šçš„äº‹å®æ ‡å‡†ï¼ŒIETFå°±åœ¨é‚£å¹´æŠŠSSLæ ‡å‡†åŒ–ï¼Œæ ‡å‡†åŒ–åçš„åç§°æ”¹ä¸ºTSLï¼Œæ‰€ä»¥ä»–ä»¬å¯ä»¥è§†ä¸ºä¸€ä¸ªä¸œè¥¿åœ¨ä¸åŒé˜¶æ®µçš„åç§°</p><hr><p>OK æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹ï¼Œåœ¨<code>iOS</code>ä¸­çš„ä¸¤ç§<code>SSL</code>åŠ å¯†æ–¹å¼</p><h2 id="å•å‘è®¤è¯-å’Œ-åŒå‘è®¤è¯"><a href="#å•å‘è®¤è¯-å’Œ-åŒå‘è®¤è¯" class="headerlink" title="å•å‘è®¤è¯ å’Œ åŒå‘è®¤è¯"></a>å•å‘è®¤è¯ å’Œ åŒå‘è®¤è¯</h2><h3 id="å•å‘è®¤è¯æµç¨‹"><a href="#å•å‘è®¤è¯æµç¨‹" class="headerlink" title="å•å‘è®¤è¯æµç¨‹"></a>å•å‘è®¤è¯æµç¨‹</h3><p>1.å®¢æˆ·<code>say hello to</code> æœåŠ¡ç«¯<br>2.æœåŠ¡ç«¯å°†è¯ä¹¦ã€å…¬é’¥ç­‰å‘é€ç»™å®¢æˆ·ç«¯<br>3.å®¢æˆ·ç«¯<code>CA</code>éªŒè¯è¯ä¹¦ï¼ŒæˆåŠŸç»§ç»­ã€ä¸æˆåŠŸå¼¹å‡ºé€‰æ‹©é¡µé¢<br>4.å®¢æˆ·ç«¯å‘ŠçŸ¥æœåŠ¡ç«¯æ‰€æ”¯æŒçš„åŠ å¯†ç®—æ³•<br>5.æœåŠ¡ç«¯é€‰æ‹©æœ€é«˜çº§åˆ«åŠ å¯†ç®—æ³•æ˜æ–‡é€šçŸ¥å®¢æˆ·ç«¯<br>6.å®¢æˆ·ç«¯éšæœºç”Ÿæˆå¯¹ç§°å¯†é’¥<code>key</code>ï¼Œ ä½¿ç”¨æœåŠ¡ç«¯å…¬é’¥è¿›è¡ŒåŠ å¯†ï¼Œå¹¶å‘é€ç»™æœåŠ¡ç«¯<br>7.æœåŠ¡ç«¯ä½¿ç”¨ç§é’¥è§£å¯†ï¼Œè·å–å¯¹ç§°å¯†é’¥<code>key</code><br>8.åç»­å®¢æˆ·ç«¯ç«¯ä½¿ç”¨è¯¥å¯†é’¥<code>key</code>è¿›è¡ŒåŠ å¯†é€šä¿¡<br>å…·ä½“æµç¨‹å›¾æ˜¯è¿™æ ·çš„<br><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fsni1afkv8j30mp0i8gmx.jpg" alt=""></p><h3 id="åŒå‘è®¤è¯"><a href="#åŒå‘è®¤è¯" class="headerlink" title="åŒå‘è®¤è¯"></a>åŒå‘è®¤è¯</h3><p>1.å®¢æˆ·ç«¯<code>say hello to</code> æœåŠ¡ç«¯<br>2.æœåŠ¡ç«¯å°†è¯ä¹¦ã€å…¬é’¥ç­‰å‘é€ç»™å®¢æˆ·ç«¯<br>3.å®¢æˆ·ç«¯è¯<code>CA</code>éªŒè¯è¯ä¹¦ï¼ŒæˆåŠŸç»§ç»­ã€ä¸æˆåŠŸå¼¹å‡ºé€‰æ‹©é¡µé¢</p><p>4.å®¢æˆ·ç«¯å°†è‡ªå·±çš„è¯ä¹¦å’Œå…¬é’¥å‘é€ç»™æœåŠ¡ç«¯<br>5.æœåŠ¡ç«¯éªŒè¯å®¢æˆ·ç«¯è¯ä¹¦ï¼Œå¦‚æœä¸é€šè¿‡ç›´æ¥æ–­å¼€è¿æ¥</p><p>6.å®¢æˆ·ç«¯å‘ŠçŸ¥æœåŠ¡ç«¯æ‰€æ”¯æŒçš„æ‰€æœ‰åŠ å¯†ç®—æ³•<br>7.æœåŠ¡ç«¯é€‰æ‹©æœ€é«˜çº§åˆ«åŠ å¯†ç®—æ³•ä½¿ç”¨å®¢æˆ·ç«¯çš„å…¬é’¥åŠ å¯†åå‘é€ç»™å®¢æˆ·ç«¯<br>8.å®¢æˆ·ç«¯æ”¶åˆ°åä½¿ç”¨ç§é’¥è§£å¯†å¹¶ç”Ÿæˆéšæœºå¯†åŒ™<code>key</code>ï¼Œä½¿ç”¨æœåŠ¡ç«¯å…¬é’¥åŠ å¯†å‘é€ç»™æœåŠ¡ç«¯<br>9.æœåŠ¡ç«¯ä½¿ç”¨ç§é’¥è§£å¯†ï¼Œè·å–å¯¹ç§°å¯†é’¥<code>key</code><br>10.åç»­å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä½¿ç”¨è¯¥å¯†é’¥<code>key</code>è¿›è¡ŒåŠ å¯†é€šä¿¡<br>å…·ä½“æµç¨‹å¦‚ä¸‹<br><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fsni88rmbrj31a0110wjg.jpg" alt=""></p><p>æ€»ç»“ï¼š å•å‘è®¤è¯<code>SSL</code>åè®®ï¼Œä¸éœ€è¦å®¢æˆ·ç«¯æ‹¥æœ‰<code>CA</code>è¯ä¹¦ï¼Œåªè¦å®¢æˆ·ç«¯é€šè¿‡æœåŠ¡ç«¯å‘é€è¿‡æ¥çš„è¯ä¹¦å³å¯ã€‚ä¸€èˆ¬çš„<code>web</code>åº”ç”¨éƒ½é‡‡ç”¨å•å‘è®¤è¯çš„æ–¹å¼ï¼Œå› ä¸ºç”¨æˆ·æ•°ç›®å¹¿æ³›ï¼Œä¸”æ— éœ€åœ¨é€šè®¯å±‚éªŒè¯ç”¨æˆ·èº«ä»½åˆæ³•æ€§ï¼Œä¸€èˆ¬éƒ½é‡‡ç”¨åº”ç”¨é€»è¾‘æ¥ä¿è¯ç”¨æˆ·çš„åˆæ³•æ€§</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åŸºäºç¬¬ä¸€ç¯‡æ–‡ç« çš„ä»‹ç»ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥èŠèŠæ—¥å¸¸ç”Ÿæ´»ä¸­çš„éƒ½ä¼šæ¥è§¦åˆ°çš„åŠ å¯†åº”ç”¨æ–¹å¼â€“&lt;code&gt;HTTPS&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;HTTP-vs-HTTPS&quot;&gt;&lt;a href=&quot;#HTTP-vs-HTTPS&quot; class=&quot;headerlink&quot; title=&quot;HTTP vs HTTPS&quot;&gt;&lt;/a&gt;HTTP vs HTTPS&lt;/h2&gt;&lt;p&gt;&lt;code&gt;HTTP&lt;/code&gt;å…¨ç§°&lt;code&gt;Hyper Text Transfer Protocal&lt;/code&gt;(è¶…æ–‡æœ¬ä¼ è¾“åè®®)æ˜¯ä¸‡ç»´ç½‘æœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬åè®®åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ï¼Œæ˜¯ä¸€ä¸ªå±äºåº”ç”¨å±‚çš„é¢å‘å¯¹è±¡çš„åè®®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;HTTPS&lt;/code&gt;å…¨ç§°&lt;code&gt;Secure Hypertext Transfer Protocol&lt;/code&gt;å®‰å…¨è¶…æ–‡æœ¬ä¼ è¾“åè®®ã€‚&lt;/p&gt;
&lt;h2 id=&quot;SSL-or-TLS&quot;&gt;&lt;a href=&quot;#SSL-or-TLS&quot; class=&quot;headerlink&quot; title=&quot;SSL or TLS&quot;&gt;&lt;/a&gt;SSL or TLS&lt;/h2&gt;&lt;p&gt;åœ¨&lt;code&gt;HTTPS&lt;/code&gt;ä¸­çš„&lt;code&gt;S&lt;/code&gt;å¯ä»¥æ˜¯&lt;code&gt;SSL&lt;/code&gt;æˆ–è€…&lt;code&gt;TLS&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SSL&lt;/code&gt;å…¨ç§°&lt;code&gt;Secure Socket Layer&lt;/code&gt;å®‰å…¨å¥—æ¥å­—å±‚ï¼Œä½äºå¯é çš„é¢å‘è¿æ¥çš„ç½‘ç»œåè®®å’Œåº”ç”¨å±‚åè®®å±‚ã€‚&lt;code&gt;SSL&lt;/code&gt;é€šè¿‡äº’ç›¸è®¤è¯ã€ä½¿ç”¨æ•°å­—è¯ä¹¦ä¿è¯å®Œæ•´æ€§ï¼Œä½¿ç”¨åŠ å¯†ç¡®ä¿ç§å¯†æ€§ï¼Œä»¥å®ç°å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„å®‰å…¨é€šè®¯ã€‚è¯¥åè®®ç”±ä¸¤å±‚ç»„æˆ: &lt;code&gt;SSL&lt;/code&gt;è®°å½•åè®®å’Œ&lt;code&gt;SSL&lt;/code&gt;æ¡æ‰‹åè®®ã€‚&lt;code&gt;SSL&lt;/code&gt;æ˜¯&lt;code&gt;Netscape&lt;/code&gt;å¼€å‘çš„ä¸“é—¨ç”¨äºä¿æŠ¤&lt;code&gt;Web&lt;/code&gt;é€šè®¯çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;TLS&lt;/code&gt;å…¨ç§°&lt;code&gt;Transport Layer Security&lt;/code&gt;å®‰å…¨ä¼ è¾“å±‚åè®®ï¼Œç”¨äºä¸¤ä¸ªåº”ç”¨ä¹‹é—´æä¾›ä¿å¯†æ€§å’Œæ•°æ®å®Œæ•´æ€§ã€‚è¯¥åè®®ç”±ä¸¤å±‚ç»„æˆ:  &lt;code&gt;TSL&lt;/code&gt;è®°å½•åè®®å’Œ&lt;code&gt;TSL&lt;/code&gt;æ¡æ‰‹åè®®ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Read iOS" scheme="http://deeer.github.io/categories/Read-iOS/"/>
    
    
      <category term="Encryption" scheme="http://deeer.github.io/tags/Encryption/"/>
    
  </entry>
  
  <entry>
    <title>setTimeoutæ¢ç´¢</title>
    <link href="http://deeer.github.io/2018/06/02/setTimeout%E6%8E%A2%E7%B4%A2/"/>
    <id>http://deeer.github.io/2018/06/02/setTimeoutæ¢ç´¢/</id>
    <published>2018-06-02T07:02:55.000Z</published>
    <updated>2018-06-02T07:19:43.054Z</updated>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯çŸ¥è¯†"><a href="#èƒŒæ™¯çŸ¥è¯†" class="headerlink" title="èƒŒæ™¯çŸ¥è¯†"></a>èƒŒæ™¯çŸ¥è¯†</h2><blockquote><p>å¹¶å‘&amp;&amp;å¹¶è¡Œ</p></blockquote><p><strong>å¹¶å‘å¤šçº¿ç¨‹</strong> : <code>ConCurrency</code> , å®è´¨å°±æ˜¯ä¸€ä¸ªç‰©ç†çš„<code>CPU</code>åœ¨è‹¥å¹²ä¸ªç¨‹åºä¹‹é—´å¤ç”¨ï¼Œç”±äºæ¯æ¬¡åˆ‡æ¢æ‰§è¡Œç¨‹åºçš„æ—¶é—´æçŸ­ï¼Œæ‰€ä»¥ä¸€èˆ¬ç”¨æˆ·æ— æ³•å¯Ÿè§‰ï¼Œå³è®¤ä¸ºæ˜¯å¤šä¸ªåº”ç”¨åœ¨åŒæ—¶æ‰§è¡Œã€‚<br><strong>å¹¶è¡Œå¤šçº¿ç¨‹</strong> : <code>Paralleism</code> , æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„äº‹ä»¶åœ¨åŒä¸€æ—¶åˆ»å‘ç”Ÿï¼Œæ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„ä¸åŒäº‹ä»¶åœ¨åŒä¸€ä¸ªæ—¶åˆ»å‘é€ã€‚</p><blockquote><p>JSçº¿ç¨‹</p></blockquote><p>æµè§ˆå™¨å†…æ ¸æ˜¯å¤šçº¿ç¨‹çš„ï¼Œåœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¼šä¿ç•™è‡³å°‘ä¸‰ä¸ªåŸºæœ¬çº¿ç¨‹ï¼š<strong>JSå¼•æ“çº¿ç¨‹</strong>ã€<strong>GUIæ¸²æŸ“çº¿ç¨‹</strong>ã€<strong>æµè§ˆå™¨äº‹ä»¶è§¦å‘çº¿ç¨‹</strong></p><p><strong>JSå¼•æ“çº¿ç¨‹</strong>: åŸºäºäº‹ä»¶æ‰§è¡Œï¼Œå•çº¿ç¨‹å¤„ç†ï¼Œæ„å‘³ç€ä»»åŠ¡éƒ½æ˜¯ä¸€ä¸ªæ¥ä¸€ä¸ªé¡ºåºæ‰§è¡Œçš„ã€‚<br><strong>GUIæ¸²æŸ“çº¿ç¨‹</strong>: è´Ÿè´£æ¸²æŸ“æµè§ˆå™¨ç•Œé¢<br><strong>æµè§ˆå™¨äº‹ä»¶è§¦å‘çº¿ç¨‹</strong>: å½“ä¸€ä¸ªäº‹ä»¶è§¦å‘æ—¶è¯¥çº¿ç¨‹ä¼šæŠŠäº‹ä»¶æ·»åŠ åˆ°<code>JSå¼•æ“çº¿ç¨‹</code>çš„å¾…å¤„ç†é˜Ÿåˆ—çš„é˜Ÿå°¾ä¸­</p><a id="more"></a><p>å…¶ä¸­è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>JSå¼•æ“çº¿ç¨‹</code>å’Œ<code>GUIæ¸²æŸ“çº¿ç¨‹</code>æ˜¯çš„<strong>äº’æ–¥å…³ç³»</strong>ã€‚</p><hr><h2 id="setTimeOut"><a href="#setTimeOut" class="headerlink" title="setTimeOut"></a>setTimeOut</h2><p>åœ¨ä»£ç æ‰§è¡Œæ—¶ï¼Œå½“<code>JS</code>é‡åˆ°<code>setTimeout</code>æ–¹æ³•æ—¶ï¼Œä¼šå°†å›è°ƒå‡½æ•°æ”¾åœ¨ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå½“<code>JSçº¿ç¨‹</code>ç©ºé—²ä¹‹åæˆ–è¾¾åˆ°è®¾å®šçš„æ—¶é—´ä¹‹åï¼Œæ‰§è¡Œä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ã€‚<br>è¿™å°±è§£é‡Šäº†ä¸ºä»€ä¹ˆåœ¨<code>for</code>å¾ªç¯ä¸­è®¾å®š<code>setTimeout</code>æ–¹æ³•çš„æ—¶å€™ï¼Œå¹¶ä¸ä¼šç«‹åˆ»æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨å…¶ä»–ä»£ç æ‰§è¡Œå®Œæˆä¹‹åï¼Œå†å»æ‰§è¡Œã€‚</p><p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1frwunjzpuqj30e60b2wf8.jpg" alt=""></p><p>è¿™é‡Œæˆ‘ä»¬çœ‹åˆ°çš„æœ€ç»ˆè¾“å‡ºçš„<code>i</code>æ˜¯<code>3</code>ä¸ª<code>4</code>ï¼Œè¿™å°±æ„å‘³ç€ï¼Œ<code>setTimeout</code>æ–¹æ³•çš„æ‰§è¡Œæ˜¯åœ¨å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œçš„ï¼Œå¹¶ä¸”æ¯ä¸€æ¬¡å¾ªç¯éƒ½åœ¨é˜Ÿåˆ—ä¸­æ·»åŠ äº†ä¸€æ¬¡å›è°ƒå‡½æ•°ï¼Œå¹¶ä¸”è¿™å›å›è°ƒå‡½æ•°å¹¶æ²¡æœ‰ç›´æ¥æ•æ‰å½“æ¬¡å¾ªç¯ä¸­içš„å€¼ï¼Œè¿™ä¹Ÿè¯´æ˜äº†å›è°ƒå‡½æ•°æ˜¯åœ¨å¾ªç¯ä¹‹åå†æ‰§è¡Œã€‚</p><h2 id="ç•ªå¤–"><a href="#ç•ªå¤–" class="headerlink" title="ç•ªå¤–"></a>ç•ªå¤–</h2><p>åœ¨ç ”ç©¶è¿™ä¸ªæ‰§è¡Œç‰¹æ€§çš„æ—¶å€™è¿˜å‘ç°äº†ä¸€ä¸ªå¥½ç©çš„ä¸œè¥¿: æ”¾åœ¨é˜Ÿåˆ—ä¸­çš„å›è°ƒå‡½æ•°ï¼Œæ‰§è¡Œçš„æ‰§è¡Œé¡ºåºï¼Œä¼šéšè®¾å®šçš„æ—¶é—´åšä¸€äº›å¾®å¦™çš„å˜åŒ–</p><p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1frwuoi73jxj30dm0hygmr.jpg" alt=""><br><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1frwupr68bwj30eg0e0myb.jpg" alt=""><br><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1frwuqb41i8j30ds0dimya.jpg" alt=""><br><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1frwuqt6plhj30fa0d8dgz.jpg" alt=""></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒåŒæ ·çš„ä»£ç ï¼Œåªæœ‰åœ¨è®¾å®šæ—¶é—´ä¸º<code>0</code>å’Œ<code>1</code>çš„æ—¶å€™ï¼Œä¸¤ä¸ªå›è°ƒæ–¹æ³•æ‰ä¼šæŒ‰ä»£ç çš„é¡ºåºä¾æ¬¡æ‰§è¡Œï¼Œ<br>èµ·åˆæˆ‘è®¤ä¸ºæ˜¯æ—¶å·®æŸ¥å¯¼è‡´çš„ï¼Œæ‰€ä»¥ï¼Œæ˜¯ä¸æ˜¯ä¹‹ååœ¨ç›¸å·®1æ¯«ç§’çš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µå‘¢ï¼Ÿ<br><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1frwur8w6xwj30em0dk75f.jpg" alt=""><br><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1frwursy48tj30h80ccgmr.jpg" alt=""><br>å®è·µå‘Šè¯‰æˆ‘ä»¬å¹¶ä¸æ˜¯ï¼ŒåŒæ ·çš„<code>2æ¯«ç§’</code>å’Œ<code>3æ¯«ç§’</code>ã€<code>3æ¯«ç§’</code>å’Œ<code>4æ¯«ç§’</code>çš„æƒ…å†µä¸‹ã€‚<br>è¿™ç§æ‰§è¡Œé¡ºåºï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºåˆ°è¾¾äº†<code>setTimeout</code>è®¾ç½®çš„å›è°ƒæ—¶é—´ã€‚</p><p>é‚£ä¹ˆåˆ°åº•å’Œæ—¶å·®æœ‰æ²¡æœ‰å…³ç³»å‘¢ï¼Ÿæˆ‘è¿™é‡Œåˆåšäº†ä¸¤ç»„å¯¹æ¯”å®éªŒ<br><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1frwuseyqozj30ge0cc75f.jpg" alt=""><br><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1frwuslrn35j30gc0ca75f.jpg" alt=""><br><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1frwusv9hllj30gy0gk75h.jpg" alt=""><br><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1frwut3co22j30gc0gyq44.jpg" alt=""></p><p>è¿™ç»„å¯¹æ¯”å‘Šè¯‰æˆ‘ä»¬,å›è°ƒæ—¶é—´å†³å®šäº†å›è°ƒå‡½æ•°çš„æ‰§è¡Œå…ˆåã€‚åœ¨ä¸ä¸º<code>0</code>æˆ–<code>1</code> çš„æ™®éæƒ…å†µä¸‹ï¼Œæ‰§è¡Œçš„é¡ºåºæ˜¯æŒ‰æ—¶é—´çš„é¡ºåºï¼Œä»çŸ­åˆ°é•¿æŒ‰æ»¡è¶³æ¡ä»¶å…ˆåä¾æ¬¡æ‰§è¡Œçš„ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li>æœ€åŸºæœ¬çš„ä¸€ç‚¹ï¼Œåœ¨<code>setTimeout</code>ä¸­è®¾ç½®çš„å›è°ƒå‡½æ•°å’Œåœ¨<code>forå¾ªç¯</code>ä¸­çš„å‡½æ•°çš„æ‰§è¡Œä¼˜å…ˆçº§ä¸åŒï¼Œ<code>setTimeout</code>çš„å›è°ƒå‡½æ•°ä¼šç­‰å¾…çº¿ç¨‹ç©ºé—²æ—¶æˆ–æ»¡è¶³æ¡ä»¶æ—¶è¿›è¡Œå¤„ç†ã€‚æ‰€ä»¥ï¼Œå›è°ƒå‡½æ•°æ€»æ˜¯åæ¥è§¦å‘ã€‚</li><li>åœ¨å­˜åœ¨å¤šä¸ª<code>setTimeout</code>å›è°ƒçš„æƒ…å†µä¸‹ã€‚ä¸€èˆ¬æ¥è®²ï¼Œæ‰§è¡Œé¡ºåºå’Œæ—¶é—´æœ‰å…³ï¼Œå…ˆæ»¡è¶³æ—¶é—´æ¡ä»¶çš„å‡½æ•°ä¼˜å…ˆæ‰§è¡Œä»£ç ï¼Œå¦‚æœæ—¶é—´ç›¸åŒåˆ™ä¼šé¡ºåºæ‰§è¡Œå›è°ƒã€‚</li><li><code>setTimeout</code>åªæ˜¯å°†äº‹ä»¶æ’å…¥åˆ°ä»»åŠ¡é˜Ÿåˆ—,å¿…é¡»ç­‰åˆ°å½“å‰ä»£ç éƒ½æ‰§è¡Œå®Œæˆä¹‹åï¼Œä¸»çº¿ç¨‹æ‰ä¼šå»æ‰§è¡Œä»–æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚æ‰€ä»¥æ™®éæ„ä¹‰ä¸Šè®²ï¼Œè¿™ä¸ªæ—¶é—´åªæ˜¯ä¸€ç§ä¼˜å…ˆçº§çš„æ ‡è®°ï¼Œä½†<code>0æ¯«ç§’</code>å’Œ<code>1æ¯«ç§’</code>ä¼˜å…ˆçº§ï¼Œç›®å‰çœ‹æ¥æ˜¯ä¸€æ ·çš„ï¼Œä¸ä¼šå› ä¸ºæ•°å€¼å¤§å°è€Œå‘ç”Ÿé¡ºåºå˜åŒ–ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;èƒŒæ™¯çŸ¥è¯†&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯çŸ¥è¯†&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯çŸ¥è¯†&quot;&gt;&lt;/a&gt;èƒŒæ™¯çŸ¥è¯†&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;å¹¶å‘&amp;amp;&amp;amp;å¹¶è¡Œ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å¹¶å‘å¤šçº¿ç¨‹&lt;/strong&gt; : &lt;code&gt;ConCurrency&lt;/code&gt; , å®è´¨å°±æ˜¯ä¸€ä¸ªç‰©ç†çš„&lt;code&gt;CPU&lt;/code&gt;åœ¨è‹¥å¹²ä¸ªç¨‹åºä¹‹é—´å¤ç”¨ï¼Œç”±äºæ¯æ¬¡åˆ‡æ¢æ‰§è¡Œç¨‹åºçš„æ—¶é—´æçŸ­ï¼Œæ‰€ä»¥ä¸€èˆ¬ç”¨æˆ·æ— æ³•å¯Ÿè§‰ï¼Œå³è®¤ä¸ºæ˜¯å¤šä¸ªåº”ç”¨åœ¨åŒæ—¶æ‰§è¡Œã€‚&lt;br&gt;&lt;strong&gt;å¹¶è¡Œå¤šçº¿ç¨‹&lt;/strong&gt; : &lt;code&gt;Paralleism&lt;/code&gt; , æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„äº‹ä»¶åœ¨åŒä¸€æ—¶åˆ»å‘ç”Ÿï¼Œæ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„ä¸åŒäº‹ä»¶åœ¨åŒä¸€ä¸ªæ—¶åˆ»å‘é€ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;JSçº¿ç¨‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æµè§ˆå™¨å†…æ ¸æ˜¯å¤šçº¿ç¨‹çš„ï¼Œåœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¼šä¿ç•™è‡³å°‘ä¸‰ä¸ªåŸºæœ¬çº¿ç¨‹ï¼š&lt;strong&gt;JSå¼•æ“çº¿ç¨‹&lt;/strong&gt;ã€&lt;strong&gt;GUIæ¸²æŸ“çº¿ç¨‹&lt;/strong&gt;ã€&lt;strong&gt;æµè§ˆå™¨äº‹ä»¶è§¦å‘çº¿ç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;JSå¼•æ“çº¿ç¨‹&lt;/strong&gt;: åŸºäºäº‹ä»¶æ‰§è¡Œï¼Œå•çº¿ç¨‹å¤„ç†ï¼Œæ„å‘³ç€ä»»åŠ¡éƒ½æ˜¯ä¸€ä¸ªæ¥ä¸€ä¸ªé¡ºåºæ‰§è¡Œçš„ã€‚&lt;br&gt;&lt;strong&gt;GUIæ¸²æŸ“çº¿ç¨‹&lt;/strong&gt;: è´Ÿè´£æ¸²æŸ“æµè§ˆå™¨ç•Œé¢&lt;br&gt;&lt;strong&gt;æµè§ˆå™¨äº‹ä»¶è§¦å‘çº¿ç¨‹&lt;/strong&gt;: å½“ä¸€ä¸ªäº‹ä»¶è§¦å‘æ—¶è¯¥çº¿ç¨‹ä¼šæŠŠäº‹ä»¶æ·»åŠ åˆ°&lt;code&gt;JSå¼•æ“çº¿ç¨‹&lt;/code&gt;çš„å¾…å¤„ç†é˜Ÿåˆ—çš„é˜Ÿå°¾ä¸­&lt;/p&gt;
    
    </summary>
    
      <category term="FrontEnd" scheme="http://deeer.github.io/categories/FrontEnd/"/>
    
    
      <category term="tips" scheme="http://deeer.github.io/tags/tips/"/>
    
  </entry>
  
  <entry>
    <title>åŠ å¯†ç›¸å…³ï¼ˆä¸€ï¼‰</title>
    <link href="http://deeer.github.io/2018/05/23/%E5%8A%A0%E5%AF%86%E7%9B%B8%E5%85%B3%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>http://deeer.github.io/2018/05/23/åŠ å¯†ç›¸å…³ï¼ˆä¸€ï¼‰/</id>
    <published>2018-05-23T13:31:06.000Z</published>
    <updated>2018-06-25T07:44:23.912Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰è¨€ï¼š<br> <strong>è¿™ä¼šæ˜¯ä¸€ç¯‡ä¸»è®²åŠ å¯†ç›¸å…³çš„æ–‡ç« ï¼Œå¸Œæœ›èƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šç†æ¸…æ—¥å¸¸ä½¿ç”¨çš„åŠ å¯†æ¦‚å¿µã€‚</strong></p></blockquote><h3 id="å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯†"><a href="#å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯†" class="headerlink" title="å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯†"></a>å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯†</h3><p>é¦–å…ˆï¼Œç°æœ‰çš„åŠ å¯†æŠ€æœ¯åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§å«<code>å¯¹ç§°åŠ å¯†</code>ï¼Œå³åœ¨åŠ å¯†å’Œè§£å¯†çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªå¯†é’¥ã€‚å¦ä¸€ç§å«<code>éå¯¹ç§°åŠ å¯†</code>ï¼Œè¿™ç§åŠ å¯†æŠ€æœ¯ä¸­ï¼Œå­˜åœ¨ä¸¤ä¸ªæ¦‚å¿µâ€”ç§é’¥å’Œå…¬é’¥ã€‚ç§é’¥ä¸€èˆ¬æ˜¯æŒ‡ï¼Œç”¨äºåŠ å¯†åŸæ–‡çš„ä¸å‘å¤–ç•Œé€éœ²çš„å¯†é’¥ã€‚å…¬é’¥åˆ™æƒ³æ³•ï¼Œä¸€èˆ¬æ˜¯æŒ‡å‘å¤–ç•Œé€éœ²çš„ï¼Œç”¨äºè§£å¯†çš„å¯†é’¥ã€‚å…¶ä¸­å…¬é’¥å’Œç§é’¥æ˜¯ä¸€ä¸€å¯¹åº”å…³ç³»ï¼Œå³åªæœ‰ç§é’¥å¯¹åº”çš„å…¬é’¥æ‰èƒ½è§£å¯†ç§é’¥åŠ å¯†çš„å¯†æ–‡</p><hr> <a id="more"></a> <h3 id="å•å‘æ•£åˆ—å‡½æ•°"><a href="#å•å‘æ•£åˆ—å‡½æ•°" class="headerlink" title="å•å‘æ•£åˆ—å‡½æ•°"></a>å•å‘æ•£åˆ—å‡½æ•°</h3><p>ä»–æ˜¯å¯¹åŸæ–‡çš„ä¿¡æ¯æç‚¼ï¼Œé€šå¸¸é•¿åº¦æ¯”åŸæ–‡å°ï¼Œä¸”å…·æœ‰<strong>å›ºå®šçš„é•¿åº¦</strong>ï¼Œ<strong>ä¸å¯é€†</strong>ç­‰ç‰¹ç‚¹ã€‚å¯¹äºæ”¹å˜è¾“å…¥å€¼ä¸­çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦ï¼Œéƒ½ä¼šå¾—åˆ°ä¸€ä¸ªæˆªç„¶ä¸åŒçš„ç»“æœï¼Œè¿™ç§é›ªå´©æ•ˆåº”ï¼Œå¯¹äºä¿¡æ¯éªŒè¯æ¥è¯´å†å¥½ä¸è¿‡äº†ã€‚æ‰€ä»¥å•å‘æ•£åˆ—å‡½æ•°å¸¸ç”¨äºæ¶ˆæ¯æ‘˜è¦ã€å¯†é’¥åŠ å¯†ç­‰ã€‚æ¯”è¾ƒä¸ºäººç†ŸçŸ¥çš„æœ‰MD5ã€SHAç­‰</p><hr><h3 id="æ¶ˆæ¯è®¤è¯ç -â€“-Message-authentication-code"><a href="#æ¶ˆæ¯è®¤è¯ç -â€“-Message-authentication-code" class="headerlink" title="æ¶ˆæ¯è®¤è¯ç  â€“ Message authentication code"></a>æ¶ˆæ¯è®¤è¯ç  â€“ Message authentication code</h3><p>ä»–æ˜¯ä¸€ç§ç¡®è®¤å®Œæ•´æ€§çš„çš„æŠ€æœ¯ï¼Œç¼©å†™<code>MAC</code>ã€‚æ¶ˆæ¯è®¤è¯ç è¾“å…¥çš„æ˜¯<strong>ä»»æ„é•¿åº¦çš„æ¶ˆæ¯</strong>å’Œä¸€ä¸ª<strong>å‘é€è€…ä¸æ¥æ”¶è€…å…±äº«çš„å¯†é’¥</strong>ï¼Œè¾“å‡ºçš„å›ºå®šé•¿åº¦çš„æ•°æ®ï¼Œå°±å«<strong>MACå€¼</strong></p><p>å¯ä»¥ç”¨äºç¡®å®šæ¶ˆæ¯æ˜¯å¦è¢«æ”¹åŠ¨ï¼ŒåŒæ—¶èƒ½ç¡®è®¤æ¶ˆæ¯æ˜¯å¦æ¥è‡ªæœŸå¾…çš„é€šä¿¡å¯¹è±¡ï¼Œå› ä¸º<strong>å¯†é’¥æ˜¯å…±äº«çš„</strong>ã€‚</p><hr><h3 id="æ•°å­—ç­¾å"><a href="#æ•°å­—ç­¾å" class="headerlink" title="æ•°å­—ç­¾å"></a>æ•°å­—ç­¾å</h3><p>æ•°å­—ç­¾åæ˜¯å‰åŠ å¯†æŠ€æœ¯çš„ç»„åˆåº”ç”¨ã€‚é¦–å…ˆï¼Œå°†æ¶ˆæ¯ç”Ÿæˆæ•£åˆ—å€¼ï¼Œå¹¶ç”¨ç§é’¥è¿›è¡ŒåŠ å¯†ï¼Œæœ€åå°†åŸæ–‡ã€å…¬é’¥å’Œå¯†æ–‡ä¸€èµ·å‘é€ç»™å¯¹æ–¹ã€‚å½“æ¥æ”¶æ–¹æ‹¿åˆ°æ•°æ®åï¼Œå¯ä»¥é€šè¿‡å…¬é’¥è§£å¯†å¾—åˆ°å¯†æ–‡ï¼Œå†å°†åŸæ–‡è¿›è¡Œæ•£åˆ—è¿ç®—ï¼Œæœ€åæ¯”è¾ƒä¸¤è€…çš„å»åˆåº¦å³å¯éªŒè¯æ•°æ®çš„å®Œæ•´æ€§å’Œæœ‰æ•ˆæ€§ã€‚</p><hr><h3 id="CAè¯ä¹¦"><a href="#CAè¯ä¹¦" class="headerlink" title="CAè¯ä¹¦"></a>CAè¯ä¹¦</h3><p><code>CA</code>è¯ä¹¦ï¼Œåˆç§°æ•°å­—è¯ä¹¦ï¼Œä»–ç”±æƒå¨æœºæ„ç»™æŸä¸ªç½‘ç«™é¢å‘çš„ä¸€ç§è®¤å¯å‡­è¯ã€‚è¿™ä¸ªå‡­è¯èƒ½å‘Šè¯‰å¤§å®¶ï¼ˆæµè§ˆå™¨ï¼‰æ‰€è®¤å¯çš„ï¼Œåœ¨è®¿é—®çš„ç½‘ç«™çš„æ—¶å€™ï¼Œä¼šéªŒè¯è¯¥ç«™ç‚¹ä¸Šçš„CAè¯ä¹¦ï¼Œå¦‚æœæµè§ˆå™¨å‘ç°è¯¥è¯ä¹¦æ²¡æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç›´æ¥æ‰“å¼€ï¼Œå¦åˆ™çš„è¯ï¼Œæµè§ˆå™¨å°±ä¼šå‘å‡ºè­¦å‘Šï¼Œå‘Šè¯‰ä½ è¯¥ç½‘ç«™çš„è¯ä¹¦å­˜åœ¨é—®é¢˜ï¼Œæ˜¯å¦ç»§ç»­è®¿é—®è¯¥ç«™ç‚¹ã€‚</p><p>åœ¨<code>HTTP</code>ä¸­ï¼Œ<code>SSL</code>ï¼ˆ<code>Secure Sockets Layer</code>ï¼‰ä½œä¸ºåœ¨ä¼ è¾“å±‚çš„ä¸Šç½‘ç»œè¿æ¥åŠ å¯†å±‚ï¼Œæˆ‘ä»¬å¯ä»¥å½¢è±¡ç†è§£ä»–ä¸ºä¸€ä¼ è¾“é€šé“åŠ å¯†ï¼Œè€Œ<code>CA</code>è¯ä¹¦åˆ™æ˜¯å¯¹ä¼ è¾“åŒæ–¹æä¾›ä¸€ç§ç‚¹å¯¹ç‚¹çš„åŠ å¯†æ–¹å¼ã€‚</p><hr><h2 id="å¸¸è§ä½¿ç”¨æ¡ˆä¾‹"><a href="#å¸¸è§ä½¿ç”¨æ¡ˆä¾‹" class="headerlink" title="å¸¸è§ä½¿ç”¨æ¡ˆä¾‹"></a>å¸¸è§ä½¿ç”¨æ¡ˆä¾‹</h2><blockquote><p>å¯¹ç§°åŠ å¯†ç®—æ³•  </p></blockquote><p>  <code>AES</code> :  åŠ å¯†å’Œè§£å¯†éƒ½ä½¿ç”¨åŒä¸€ä¸ªå¯†é’¥</p><p>  <code>DES</code> : é€Ÿåº¦å¿«ï¼Œé€‚ç”¨åŠ å¯†å¤§é‡æ•°æ®åœºåˆ</p><p>  <code>3DES</code> : åŠ å¯†å¼ºåº¦æ›´é«˜</p><blockquote><p>éå¯¹ç§°åŠ å¯†ç®—æ³•</p></blockquote><p>  <code>RSA</code> : å…¬é’¥ç§é’¥ä¸€å¯¹ä¸€ï¼Œå¹¶ä¸”ç›¸äº’æ— æ³•åæ¨</p><blockquote><p>å•å‘æ•£åˆ—å‡½æ•°</p></blockquote><p>  <code>MD5</code> :  ä¸å¯é€†ï¼Œä½†ç›¸åŒæ•°æ®çš„MD5å€¼ç›¸åŒ,å€¼å®šé•¿,å¯ä»¥ç”¨åº“æ’å‡ºç»“æœ</p><p>  <code>BASE64</code> : å‡†ç¡®è¯´ï¼Œ<code>BASE64</code>ä¸ç®—åŠ å¯†ï¼Œè€Œæ˜¯ç»™å†…å®¹è½¬æ¢ç¼–ç ï¼Œè®©äººä¸èƒ½ä¸€çœ¼å°±èƒ½çœ‹å‡ºå†…å®¹ã€‚</p><p>  <code>SHA</code> : <code>Secure Hash Algorithm</code>ï¼Œæ˜¯ä¸€ä¸ªå¤§å®¶æ—ï¼Œå…¶ä¸­æˆå‘˜åŒ…æ‹¬<code>SHA-1</code>ã€<code>SHA-224</code>ã€<code>SHA-256</code>ã€<code>SHA-384</code>ï¼Œå’Œ<code>SHA-512</code></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å‰è¨€ï¼š&lt;br&gt; &lt;strong&gt;è¿™ä¼šæ˜¯ä¸€ç¯‡ä¸»è®²åŠ å¯†ç›¸å…³çš„æ–‡ç« ï¼Œå¸Œæœ›èƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šç†æ¸…æ—¥å¸¸ä½¿ç”¨çš„åŠ å¯†æ¦‚å¿µã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯†&quot;&gt;&lt;a href=&quot;#å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯†&quot; class=&quot;headerlink&quot; title=&quot;å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯†&quot;&gt;&lt;/a&gt;å¯¹ç§°åŠ å¯†ä¸éå¯¹ç§°åŠ å¯†&lt;/h3&gt;&lt;p&gt;é¦–å…ˆï¼Œç°æœ‰çš„åŠ å¯†æŠ€æœ¯åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§å«&lt;code&gt;å¯¹ç§°åŠ å¯†&lt;/code&gt;ï¼Œå³åœ¨åŠ å¯†å’Œè§£å¯†çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªå¯†é’¥ã€‚å¦ä¸€ç§å«&lt;code&gt;éå¯¹ç§°åŠ å¯†&lt;/code&gt;ï¼Œè¿™ç§åŠ å¯†æŠ€æœ¯ä¸­ï¼Œå­˜åœ¨ä¸¤ä¸ªæ¦‚å¿µâ€”ç§é’¥å’Œå…¬é’¥ã€‚ç§é’¥ä¸€èˆ¬æ˜¯æŒ‡ï¼Œç”¨äºåŠ å¯†åŸæ–‡çš„ä¸å‘å¤–ç•Œé€éœ²çš„å¯†é’¥ã€‚å…¬é’¥åˆ™æƒ³æ³•ï¼Œä¸€èˆ¬æ˜¯æŒ‡å‘å¤–ç•Œé€éœ²çš„ï¼Œç”¨äºè§£å¯†çš„å¯†é’¥ã€‚å…¶ä¸­å…¬é’¥å’Œç§é’¥æ˜¯ä¸€ä¸€å¯¹åº”å…³ç³»ï¼Œå³åªæœ‰ç§é’¥å¯¹åº”çš„å…¬é’¥æ‰èƒ½è§£å¯†ç§é’¥åŠ å¯†çš„å¯†æ–‡&lt;/p&gt;
&lt;hr&gt;
    
    </summary>
    
      <category term="Read" scheme="http://deeer.github.io/categories/Read/"/>
    
    
      <category term="Encryption" scheme="http://deeer.github.io/tags/Encryption/"/>
    
  </entry>
  
  <entry>
    <title>autoreleasepoolåˆ†æ</title>
    <link href="http://deeer.github.io/2018/04/12/autoreleasepool%E5%88%86%E6%9E%90/"/>
    <id>http://deeer.github.io/2018/04/12/autoreleasepoolåˆ†æ/</id>
    <published>2018-04-12T03:29:36.000Z</published>
    <updated>2018-05-20T14:30:49.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Autorelease pool implementation</span><br><span class="line">A thread's autorelease pool is a stack of pointers. </span><br><span class="line">Each pointer is either an object to <span class="keyword">release</span>, <span class="keyword">or</span> POOL_SENTINEL which <span class="keyword">is</span> </span><br><span class="line"> an autorelease pool boundary.</span><br><span class="line">A pool token <span class="keyword">is</span> a pointer <span class="keyword">to</span> the POOL_SENTINEL <span class="keyword">for</span> that pool. <span class="keyword">When</span> </span><br><span class="line"> the pool <span class="keyword">is</span> popped, every <span class="keyword">object</span> hotter <span class="keyword">than</span> the sentinel <span class="keyword">is</span> released.</span><br><span class="line">The stack <span class="keyword">is</span> divided <span class="keyword">into</span> a doubly-linked <span class="keyword">list</span> <span class="keyword">of</span> pages. Pages <span class="keyword">are</span> added </span><br><span class="line"> <span class="keyword">and</span> deleted <span class="keyword">as</span> necessary. </span><br><span class="line"><span class="keyword">Thread</span>-<span class="keyword">local</span> <span class="keyword">storage</span> points <span class="keyword">to</span> the hot page, <span class="keyword">where</span> newly autoreleased objects <span class="keyword">are</span> stored.</span><br></pre></td></tr></table></figure><p>ç¿»è¯‘ï¼š<br>ä¸€ä¸ªçº¿ç¨‹çš„è‡ªåŠ¨é‡Šæ”¾æ± æ˜¯ä¸€å †æŒ‡é’ˆã€‚æŒ‡é’ˆè¦ä¹ˆæ˜¯ä¸€ä¸ª<code>release</code>å¯¹è±¡ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ª<code>POOL_SENTINEL</code> â€” <code>POOL_SENTINEL</code>æ˜¯ä¸€ä¸ªè‡ªåŠ¨å›æ”¶æ± è¾¹ç•Œ</p><p>ä¸€ä¸ª<code>pool token</code>å¯¹äºé‚£ä¸ªé‡Šæ”¾æ± æ¥è®²æ˜¯ä¸€ä¸ªæŒ‡å‘<code>POOL_SENTINEL</code>(æ± å­å“¨å…µ)çš„æŒ‡é’ˆã€‚å½“æ± å­è¢«é‡Šæ”¾æ—¶ï¼Œæ¯ä¸ªæ¯”å“¨å…µhotterçš„å¯¹è±¡éƒ½è¦è¢«é‡Šæ”¾â€“ä¸æ˜¯å¾ˆæ‡‚ã€‚è¿™ä¸ªæ ˆè¢«åˆ’åˆ†ä¸ºä¸€ç³»åˆ—åŒå‘åˆ—è¡¨ï¼Œåˆ—è¡¨æ ¹æ®éœ€è¦æ·»åŠ æˆ–è€…åˆ é™¤</p><p>TLSæŒ‡é’ˆæŒ‡å‘<code>hot page</code>ï¼Œä»–å°±æ˜¯æœ€æ–°çš„è‡ªåŠ¨é‡Šæ”¾å¯¹å¯¹è±¡å­˜å‚¨çš„åœ°æ–¹<br> <a id="more"></a> </p><p>åç¼–è¯‘<code>main.m</code>æ–‡ä»¶ä¹‹åçš„éƒ¨åˆ†ä»£ç </p><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> __AtAutoreleasePool &#123;</span><br><span class="line">  __AtAutoreleasePool() &#123;atautoreleasepoolobj = objc_autoreleasePoolPush();&#125;</span><br><span class="line">  ~__AtAutoreleasePool() &#123;objc_autoreleasePoolPop(atautoreleasepoolobj);&#125;</span><br><span class="line">  <span class="keyword">void</span> * atautoreleasepoolobj;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="comment">/* @autoreleasepool */</span> &#123; __AtAutoreleasePool __autoreleasepool; </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">UIApplicationMain</span>(argc, argv, __null, <span class="built_in">NSStringFromClass</span>(((Class (*)(<span class="keyword">id</span>, SEL))(<span class="keyword">void</span> *)objc_msgSend)((<span class="keyword">id</span>)objc_getClass(<span class="string">"AppDelegate"</span>), sel_registerName(<span class="string">"class"</span>))));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨cppæ–‡ä»¶ä¸­æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°<code>__AtAutoreleasePool</code>çš„å®šä¹‰ï¼Œä»–æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œåœ¨æ„é€ å‡½æ•°<code>__AtAutoreleasePool()</code>ä¸­è°ƒç”¨äº†<code>objc_autoreleasePoolPush()</code>æ–¹æ³•å¹¶è¿”å›äº†<code>atautoreleasepoolobj</code>è¿™ä¸ªé‡Šæ”¾æ± å¯¹è±¡ã€‚åœ¨ææ„å‡½æ•°<code>~__AtAutoreleasePool()</code>ä¸­è°ƒç”¨äº†<code>objc_autoreleasePoolPop()</code>æ–¹æ³•</p><p>åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥æƒ³åˆ°ï¼Œåœ¨mainå‡½æ•°ä¸­å½“æˆ‘ä»¬æ¯å£°æ˜ä¸€ä¸ª<code>__AtAutoreleasePool</code>çš„æ—¶å€™,éƒ½ä¼š<br>è°ƒç”¨æ„é€ å‡½æ•°<code>objc_autoreleasePoolPush</code> ï¼ˆå› ä¸ºä»–æ˜¯ç»“æ„ä½“ï¼‰å‘å †æ ˆå†…å‹å…¥ä¸€ä¸ªé‡Šæ”¾æ± å¯¹è±¡ï¼Œè€Œmainæ‰§è¡Œå®Œæ¯•çš„æ—¶å€™ä¼šè°ƒç”¨ææ„å‡½æ•°ï¼Œè¿™æ—¶å€™ä¼šç”¨å°†å‹å…¥çš„é‡Šæ”¾æ± é‡Šæ”¾ï¼Œ</p><p>æ‰€ä»¥</p><p>åœ¨<code>main</code>å‡½æ•°ä¸­å¤§è‡´æ˜¯è¿™æ ·<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> * argv[])</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* @autoreleasepool */</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºè‡ªåŠ¨é‡Šæ”¾æ± </span></span><br><span class="line">        __AtAutoreleasePool __autoreleasepool = objc_autoreleasePoolPush();</span><br><span class="line">        <span class="comment">//TODO æ‰§è¡Œå„ç§æ“ä½œï¼Œå°†å¯¹è±¡åŠ å…¥è‡ªåŠ¨é‡Šæ”¾æ± </span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//é‡Šæ”¾è‡ªåŠ¨é‡Šæ”¾æ± </span></span><br><span class="line">        objc_autoreleasePoolPop(__autoreleasepool)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åˆ°è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥ç†è§£ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è‡ªå·±ä½¿ç”¨<code>autorelasepool block</code>å»å¤„ç†ä¸€äº›ä»£ç ï¼Œå› ä¸ºæˆ‘ä»¬ä¸èƒ½ä¿è¯é»˜è®¤çš„<code>autoreleasepool</code>çš„é‡Šæ”¾å‘¨æœŸï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨å°èŒƒå›´å†…è¿›è¡Œ<code>autorelease</code></p><h2 id="Pushéƒ¨åˆ†"><a href="#Pushéƒ¨åˆ†" class="headerlink" title="Pushéƒ¨åˆ†"></a>Pushéƒ¨åˆ†</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹<code>objc_autoreleasePoolPush()</code>å’Œ<code>objc_autoreleasePoolPop()</code>æ–¹æ³•ï¼Œ<a href="https://opensource.apple.com/source/objc4/objc4-532/runtime/NSObject.mm.auto.html" target="_blank" rel="noopener">åœ¨è¿™é‡Œè‹¹æœå®˜æ–¹çš„æºç é‡Œ</a>æ‰¾åˆ°é‡Œå¯¹åº”çš„å®ç°</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> * <span class="title">objc_autoreleasePoolPush</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (UseGC) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> AutoreleasePoolPage::push();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">objc_autoreleasePoolPop</span><span class="params">(<span class="keyword">void</span> *ctxt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (UseGC) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// fixme rdar://9167170</span></span><br><span class="line">    <span class="keyword">if</span> (!ctxt) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    AutoreleasePoolPage::pop(ctxt);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬èƒ½æ‰¾åˆ°<code>AutoreleasePoolPage</code>æ‰æ˜¯å®ç°çš„å…³é”®ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ä¸‹æ¥çœ‹çœ‹<code>AutoreleasePoolPage</code>çš„å…·ä½“å®ç°æ–¹å¼</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Set this to 1 to mprotect() autorelease pool contents</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PROTECT_AUTORELEASEPOOL 0</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AutoreleasePoolPage</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> POOL_SENTINEL 0</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">pthread_key_t</span> <span class="keyword">const</span> key = AUTORELEASE_POOL_KEY;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">uint8_t</span> <span class="keyword">const</span> SCRIBBLE = <span class="number">0xA3</span>;  <span class="comment">// 0xA3A3A3A3 after releasing</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">size_t</span> <span class="keyword">const</span> SIZE = </span><br><span class="line">#<span class="keyword">if</span> PROTECT_AUTORELEASEPOOL</span><br><span class="line">        <span class="number">4096</span>;  <span class="comment">// must be multiple of vm page size</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">        <span class="number">4096</span>;  <span class="comment">// size and alignment, power of 2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">size_t</span> <span class="keyword">const</span> COUNT = SIZE / <span class="keyword">sizeof</span>(id);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">magic_t</span> <span class="keyword">const</span> magic; <span class="comment">//ç”¨äºæ•°æ®æ ¡éªŒ</span></span><br><span class="line">    id *next; <span class="comment">//æ ˆé¡¶åœ°å€</span></span><br><span class="line">    <span class="keyword">pthread_t</span> <span class="keyword">const</span> thread; <span class="comment">//æ‰€åœ¨çº¿ç¨‹</span></span><br><span class="line">    AutoreleasePoolPage * <span class="keyword">const</span> parent; <span class="comment">//çˆ¶page</span></span><br><span class="line">    AutoreleasePoolPage *child; <span class="comment">//å­page</span></span><br><span class="line">    <span class="keyword">uint32_t</span> <span class="keyword">const</span> depth; <span class="comment">//æ·±åº¦</span></span><br><span class="line">    <span class="keyword">uint32_t</span> hiwat;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// SIZE-sizeof(*this) bytes of contents follow</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> * <span class="keyword">operator</span> <span class="title">new</span><span class="params">(<span class="keyword">size_t</span> size)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> malloc_zone_memalign(malloc_default_zone(), SIZE, SIZE);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="keyword">operator</span> <span class="title">delete</span><span class="params">(<span class="keyword">void</span> * p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">free</span>(p);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">protect</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> PROTECT_AUTORELEASEPOOL</span></span><br><span class="line">        mprotect(<span class="keyword">this</span>, SIZE, PROT_READ);</span><br><span class="line">        check();</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><p>ä»ä»£ç é‡Œå¯ä»¥çœ‹å‡ºï¼Œä»–æ˜¯ä¸€ä¸ªå…¸å‹çš„åŒå‘åˆ—è¡¨ç»“æ„ï¼Œæ¯ä¸ª<code>page</code>å¤§å°ä¸º<code>4096</code>Byte</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹è¯¥ç±»çš„pushå’Œpopå‡½æ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//PUSH</span></span><br><span class="line"> <span class="function"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">void</span> *<span class="title">push</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!hotPage()) &#123;</span><br><span class="line">            setHotPage(<span class="keyword">new</span> AutoreleasePoolPage(<span class="literal">NULL</span>));</span><br><span class="line">        &#125; </span><br><span class="line">        id *dest = autoreleaseFast(POOL_SENTINEL);</span><br><span class="line">        assert(*dest == POOL_SENTINEL);</span><br><span class="line">        <span class="keyword">return</span> dest;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>ä»ä»£ç é‡Œå¯ä»¥çœ‹åˆ°<code>POP()</code>å‡½æ•°ä¸­,<code>hotPage</code>æ˜¯æŸ¥æ‰¾å½“å‰æ­£åœ¨ä½¿ç”¨çš„<code>page</code>ã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™hotPageä¸ºNULL,æ‰€ä»¥ä¼šæ–°å»ºä¸€ä¸ª<code>parent = NULL</code> çš„ <code>AutoreleasePoolPage</code>å¯¹è±¡ï¼Œç„¶åè®¾ç½®ä¸º<code>hotPage</code>å®é™…ä¸Šå°±æ˜¯å°†TLSæŒ‡é’ˆåœ°å€è®¾ç½®ä¸ºè¯¥<code>page</code>åœ°å€</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">setHotPage</span><span class="params">(AutoreleasePoolPage *page)</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (page) page-&gt;fastcheck();</span><br><span class="line">        tls_set_direct(key, (<span class="keyword">void</span> *)page); </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>ç„¶åè°ƒç”¨ <code>autoreleaseFast()</code>æ–¹æ³•</p><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">static inline id *autoreleaseFast(id obj)</span><br><span class="line">  &#123;</span><br><span class="line">      AutoreleasePoolPage *<span class="built_in">page</span> = hotPage();</span><br><span class="line">      <span class="function"><span class="title">if</span> (<span class="built_in">page</span> &amp;&amp; !<span class="built_in">page</span>-&gt;</span>full()) &#123;</span><br><span class="line">          <span class="function"><span class="title">return</span> <span class="built_in">page</span>-&gt;</span>add(obj);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          return autoreleaseSlow(obj);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ–¹æ³•ä¸­é¦–å…ˆä¼šè·å–å…ˆå‰è®¾ç½®çš„<code>hotPage</code>ç„¶åï¼Œåˆ¤æ–­è¿™ä¸ª<code>page</code>æ˜¯å¦<code>full</code>å¦‚æœå­˜åœ¨<code>page</code>ä¸”æ²¡æœ‰æ»¡ï¼Œåˆ™å°†å¯¹è±¡æ·»åŠ åˆ°<code>page</code>ä¸­,ä¹Ÿå°±æ˜¯å…ˆå‰è¯´åˆ°çš„<code>POOL_SENTINEL</code>å“¨å…µå¯¹è±¡ã€‚ä¹‹åï¼Œè¿”å›å¯¹åº”çš„<code>page</code>ã€‚</p><p>è¿™é‡Œçš„<code>add</code>æ–¹æ³•å®é™…ä¸Šæ˜¯å°†å‰çš„æ ˆé¡¶æŒ‡é’ˆå¾€ä¸‹ç§»åŠ¨ã€‚</p><p>å¦‚æœå½“å‰çš„<code>hotPage</code>å·²ç»æ»¡äº†,å°±ä¼šåœ¨è¿™ä¸ªåŒå‘åˆ—è¡¨çš„å°¾ç«¯å†æ–°å¢ä¸€ä¸ª<code>page</code>,å¹¶å°†å…¶è®¾ç½®ä¸ºæ–°çš„<code>hotPage</code></p><h2 id="Popéƒ¨åˆ†"><a href="#Popéƒ¨åˆ†" class="headerlink" title="Popéƒ¨åˆ†"></a>Popéƒ¨åˆ†</h2><p>ä¸‹é¢çš„tokenå°±æ˜¯pushçš„è¿”å›å€¼ï¼Œä¹Ÿå°±æ˜¯<code>POOL_SENTINEL</code>çš„åœ°å€ï¼Œåˆ›å»ºç¬¬ä¸€æ¬¡ä½¿ç”¨NULLåˆ›å»ºçš„ï¼Œé€šè¿‡è¿™ä¸ªåœ°å€ï¼Œ<br><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//POP</span></span><br><span class="line">static inline void pop(void *token) </span><br><span class="line">    &#123;</span><br><span class="line">        AutoreleasePoolPage *<span class="built_in">page</span>;</span><br><span class="line">        id *stop;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (token) &#123;</span><br><span class="line">            <span class="built_in">page</span> = pageForPointer(token); <span class="comment">//é€šè¿‡tokenæ‰¾åˆ°å¯¹åº”pageçš„åœ°å€</span></span><br><span class="line">            stop = (id *)token;</span><br><span class="line">            assert(*stop == POOL_SENTINEL);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// Token 0 is top-level pool</span></span><br><span class="line">            <span class="built_in">page</span> = coldPage();</span><br><span class="line">            assert(<span class="built_in">page</span>);</span><br><span class="line">            <span class="function"><span class="title">stop</span> = <span class="built_in">page</span>-&gt;</span>begin();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (PrintPoolHiwat) printHiwat();</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="title">page</span>-&gt;</span><span class="function"><span class="title">releaseUntil</span>(stop); //å¯¹æ ˆé¡¶ï¼ˆ<span class="built_in">page</span>-&gt;</span>nextï¼‰åˆ°stopåœ°å€</span><br><span class="line"></span><br><span class="line">        <span class="comment">// memory: delete empty children</span></span><br><span class="line">        <span class="comment">// hysteresis: keep one empty child if this page is more than half full</span></span><br><span class="line">        <span class="comment">// special case: delete everything for pop(0)</span></span><br><span class="line">        <span class="keyword">if</span> (!token) &#123;</span><br><span class="line">            <span class="function"><span class="title">page</span>-&gt;</span>kill();</span><br><span class="line">            setHotPage(NULL);</span><br><span class="line">        &#125; <span class="function"><span class="title">else</span> <span class="keyword">if</span> (<span class="built_in">page</span>-&gt;</span>child) &#123;</span><br><span class="line">            <span class="function"><span class="title">if</span> (<span class="built_in">page</span>-&gt;</span>lessThanHalfFull()) &#123;</span><br><span class="line">                <span class="function"><span class="title">page</span>-&gt;</span><span class="function"><span class="title">child</span>-&gt;</span>kill(); <span class="comment">//å…¨éƒ¨åˆ é™¤</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="function"><span class="title">else</span> <span class="keyword">if</span> (<span class="built_in">page</span>-&gt;</span><span class="function"><span class="title">child</span>-&gt;</span>child) &#123;</span><br><span class="line">                <span class="function"><span class="title">page</span>-&gt;</span><span class="function"><span class="title">child</span>-&gt;</span><span class="function"><span class="title">child</span>-&gt;</span>kill();<span class="comment">//ä¿ç•™ä¸€ä¸ªå­page</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥çœ‹å¤„ï¼Œ<code>releaseUntil()</code>æ–¹æ³•<code>pop</code>äº†ä»æ ˆé¡¶åˆ°å“¨å…µå¯¹è±¡çš„ä¹‹é—´çš„æ‰€æœ‰å¯¹è±¡ï¼ˆéƒ½è°ƒç”¨äº†ä¸€é<code>objc_release</code>æ–¹æ³•ï¼‰<br>æ³¨é‡Šä¸­è¿˜å†™æ˜:<br>è‹¥æ˜¯<code>popï¼ˆ0ï¼‰</code>ï¼Œåˆ™ä¼šæ¸…é™¤æ‰€æœ‰çš„<code>page</code>å¯¹è±¡ã€‚<br>è‹¥å½“å‰çš„<code>page</code>å­˜æ”¾å¯¹è±¡å¤§äºä¸€åŠ<code>page</code>æ—¶ï¼Œå°†ä¿ç•™ä¸€ä¸ªå­<code>page</code></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h2><ul><li>åœ¨å¤§é‡åˆ›å»ºä¸´æ—¶å˜é‡çš„å¾ªç¯ä¸­ï¼Œæœ€å¥½ä½¿ç”¨<code>autoreleaseblock</code>ã€‚è¿™æ ·åœ¨æ¯æ¬¡å¾ªç¯è¿­ä»£ä¸­ï¼Œåªè¦blockå·²ç»“æŸï¼Œå°±ä¼šè¢«releaseï¼Œå‡å°‘å†…å­˜å ç”¨ã€‚</li><li>è‡ªåŠ¨é‡Šæ”¾æ± å®é™…ä¸Šæ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ç»“æ„ï¼Œæ¯æ¬¡åˆ›å»ºä¸€ä¸ªè‡ªåŠ¨é‡Šæ”¾æ± éƒ½ä¼šé¦–å…ˆåœ¨æ ˆé¡¶å‹å…¥ä»¥ä¸€ä¸ªå“¨å…µå¯¹è±¡â€” POOL_SENTINELã€‚åœ¨æºç ä¸­æ˜¯è¿™æ ·å®šä¹‰çš„ <code>#define POOL_SENTINEL 0</code>ã€‚å‰é¢ä¹Ÿæåˆ°ä»–æ˜¯ä½œä¸ºä¸€ä¸ª<strong>è‡ªåŠ¨å›æ”¶æ± è¾¹ç•Œ</strong>ã€‚</li><li>ç»“åˆä¸Šé¢çš„æè¿°ï¼Œç»˜åˆ¶äº†ä¸€ä¸ªè‡ªåŠ¨å›æ”¶æ± çš„ç»“æ„å›¾ï¼Œæ–¹ä¾¿è®°å¿†<br><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fq9pnllynjj30s70cr0tt.jpg" alt=""></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Autorelease pool implementation&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;A thread&#39;s autorelease pool is a stack of pointers. &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Each pointer is either an object to &lt;span class=&quot;keyword&quot;&gt;release&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;or&lt;/span&gt; POOL_SENTINEL which &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; an autorelease pool boundary.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;A pool token &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; a pointer &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; the POOL_SENTINEL &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; that pool. &lt;span class=&quot;keyword&quot;&gt;When&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; the pool &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; popped, every &lt;span class=&quot;keyword&quot;&gt;object&lt;/span&gt; hotter &lt;span class=&quot;keyword&quot;&gt;than&lt;/span&gt; the sentinel &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; released.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;The stack &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; divided &lt;span class=&quot;keyword&quot;&gt;into&lt;/span&gt; a doubly-linked &lt;span class=&quot;keyword&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;of&lt;/span&gt; pages. Pages &lt;span class=&quot;keyword&quot;&gt;are&lt;/span&gt; added &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; deleted &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; necessary. &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;Thread&lt;/span&gt;-&lt;span class=&quot;keyword&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;storage&lt;/span&gt; points &lt;span class=&quot;keyword&quot;&gt;to&lt;/span&gt; the hot page, &lt;span class=&quot;keyword&quot;&gt;where&lt;/span&gt; newly autoreleased objects &lt;span class=&quot;keyword&quot;&gt;are&lt;/span&gt; stored.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç¿»è¯‘ï¼š&lt;br&gt;ä¸€ä¸ªçº¿ç¨‹çš„è‡ªåŠ¨é‡Šæ”¾æ± æ˜¯ä¸€å †æŒ‡é’ˆã€‚æŒ‡é’ˆè¦ä¹ˆæ˜¯ä¸€ä¸ª&lt;code&gt;release&lt;/code&gt;å¯¹è±¡ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ª&lt;code&gt;POOL_SENTINEL&lt;/code&gt; â€” &lt;code&gt;POOL_SENTINEL&lt;/code&gt;æ˜¯ä¸€ä¸ªè‡ªåŠ¨å›æ”¶æ± è¾¹ç•Œ&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ª&lt;code&gt;pool token&lt;/code&gt;å¯¹äºé‚£ä¸ªé‡Šæ”¾æ± æ¥è®²æ˜¯ä¸€ä¸ªæŒ‡å‘&lt;code&gt;POOL_SENTINEL&lt;/code&gt;(æ± å­å“¨å…µ)çš„æŒ‡é’ˆã€‚å½“æ± å­è¢«é‡Šæ”¾æ—¶ï¼Œæ¯ä¸ªæ¯”å“¨å…µhotterçš„å¯¹è±¡éƒ½è¦è¢«é‡Šæ”¾â€“ä¸æ˜¯å¾ˆæ‡‚ã€‚è¿™ä¸ªæ ˆè¢«åˆ’åˆ†ä¸ºä¸€ç³»åˆ—åŒå‘åˆ—è¡¨ï¼Œåˆ—è¡¨æ ¹æ®éœ€è¦æ·»åŠ æˆ–è€…åˆ é™¤&lt;/p&gt;
&lt;p&gt;TLSæŒ‡é’ˆæŒ‡å‘&lt;code&gt;hot page&lt;/code&gt;ï¼Œä»–å°±æ˜¯æœ€æ–°çš„è‡ªåŠ¨é‡Šæ”¾å¯¹å¯¹è±¡å­˜å‚¨çš„åœ°æ–¹&lt;br&gt;
    
    </summary>
    
      <category term="ScourceCode" scheme="http://deeer.github.io/categories/ScourceCode/"/>
    
    
      <category term="autoreleasepool" scheme="http://deeer.github.io/tags/autoreleasepool/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šç™½è¯åŒºå—é“¾ã€‹è¯»ä¹¦ç¬”è®°</title>
    <link href="http://deeer.github.io/2018/02/27/%E3%80%8A%E7%99%BD%E8%AF%9D%E5%8C%BA%E5%9D%97%E9%93%BE%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    <id>http://deeer.github.io/2018/02/27/ã€Šç™½è¯åŒºå—é“¾ã€‹è¯»ä¹¦ç¬”è®°/</id>
    <published>2018-02-27T15:23:18.000Z</published>
    <updated>2018-06-25T16:10:39.107Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><strong>å‰è¨€ï¼š</strong> è¿™æœ¬ä¹¦ç”¨æ¯”è¾ƒå½¢è±¡çš„ä¾‹å­é˜è¿°äº†åŒºå—é“¾ï¼Œå¹¶ä»ä¸­é€æ­¥å¼•ç”³å‡ºåŒºå—é“¾ä¸­çš„ç›¸å…³æ¦‚å¿µã€‚å€¼å¾—ä¸€è¯»ï¼Œæ¨èï¼</p></blockquote><h3 id="èŠ‚ç‚¹"><a href="#èŠ‚ç‚¹" class="headerlink" title="èŠ‚ç‚¹"></a>èŠ‚ç‚¹</h3><p>åŒºå—é“¾ä¸­çš„å®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºå„ä¸ªç”¨æˆ·çš„ç”µå­é’±åŒ…</p><h3 id="ä¸€ä¸ªæ•…äº‹"><a href="#ä¸€ä¸ªæ•…äº‹" class="headerlink" title="ä¸€ä¸ªæ•…äº‹"></a>ä¸€ä¸ªæ•…äº‹</h3><p>åœ¨æœ‰äº›ç³»ç»Ÿä¸­ï¼Œå°±è€ƒè™‘åˆ°è¢«æ·éª°å­æŠ•ä¸­çš„èŠ‚ç‚¹çš„åŠ³åŠ¨ä»˜å‡ºï¼ˆå³è®°è´¦ï¼Œç„¶åå‘å…¨ä½“å¹¿æ’­ï¼‰ï¼Œæ¯•ç«Ÿæ•´ç†æ•°æ®ã€éªŒè¯æ•°æ®ã€æ‰“åŒ…æ•°æ®ã€è¿˜è¦å¹¿è€Œå‘Šä¹‹ã€‚äºæ˜¯è®¾è®¡å‡ºä¸€ç§æ¿€åŠ±æœºåˆ¶ï¼Œè´Ÿè´£æ‰“åŒ…æ•°æ®çš„é‚£ä¸ªèŠ‚ç‚¹å¯ä»¥è·å¾—ç³»ç»Ÿçš„å¥–åŠ±ï¼Œè¿™ä¸ªå¥–åŠ±ç±»ä¼¼äºè®ºå›ç§¯åˆ†ï¼Œç«™åœ¨è½¯ä»¶æŠ€æœ¯çš„è§’åº¦ï¼Œå°±æ˜¯ä¸€ä¸ªæ•°æ®ã€‚è¿™ä¸ªæ•°æ®è¢«è§†ä¸º<strong>å¥–é‡‘</strong>ï¼Œå¤§å®¶ä¼šå¾ˆç§¯æå»äº‰å–é‚£ä¸ªå¥–é‡‘ï¼Œäºæ˜¯å°±å¸Œæœ›éª°å­èƒ½æŠ•ä¸­è‡ªå·±ï¼Œæœ‰äº›åŒºå—é“¾ç³»ç»Ÿåœ¨è¿™ä¸ªç¯èŠ‚ä¼šè®¾è®¡å‡ºä¸€ç§å¸¦æœ‰ç«äº‰çš„æœºåˆ¶ï¼Œè®©å„ä¸ªèŠ‚ç‚¹å»æŠ¢ï¼Œè°èƒ½æŠ¢åˆ°è¿™ä¸ªæœºä¼šï¼Œè°å°±èƒ½è·å¾—å¤§åŒ…æ•°æ®çš„æƒåˆ©å¹¶åŒæ—¶è·å¾—è¿™ç¬”å¥–åŠ±ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šå¾ˆå½¢è±¡çš„å°†è¿™ä¸ªç«äº‰è¿‡ç¨‹ç§°ä¸º<strong>æŒ–å‘</strong><br><a id="more"></a></p><h3 id="å…¬é’¥ç§é’¥"><a href="#å…¬é’¥ç§é’¥" class="headerlink" title="å…¬é’¥ç§é’¥"></a>å…¬é’¥ç§é’¥</h3><p>ç”¨å…¬é’¥åŠ å¯†çš„æ•°æ®å¿…é¡»ä½¿ç”¨å¯¹åº”çš„ç§é’¥æ¥è§£å¯†ï¼Œè€Œç”¨ç§é’¥åŠ å¯†çš„ï¼ˆé€šå¸¸ç§°ä¸ºç­¾åï¼‰çš„æ•°æ®å¿…é¡»ç”¨å¯¹åº”çš„å…¬é’¥æ¥è§£å¯†ã€‚å…¬é’¥ç§é’¥çš„åŠ å¯†æ–¹å¼åœ¨åŒºå—é“¾ä¸­ç§°ä¸º<strong>è„šæœ¬ç³»ç»Ÿ</strong></p><h3 id="çœŸå®æ€§"><a href="#çœŸå®æ€§" class="headerlink" title="çœŸå®æ€§"></a>çœŸå®æ€§</h3><p>åŒºå—é“¾è´¦æœ¬å¯¹æ¯ä¸ªåŒºå—éƒ½ä¼šè®¡ç®—å‡ºä¸€ä¸ªå“ˆå¸Œå€¼ï¼Œç§°ä¸ºåŒºå—å“ˆå¸Œã€‚é€šè¿‡åŒºå—å“ˆå¸Œå€¼æ¥ä¸²è¿åŒºå—ã€‚è¿™æ ·çš„å¥½å¤„å°±æ˜¯ï¼Œå¦‚æœæœ‰äººç¯¡æ”¹äº†ä¸­é—´çš„æŸä¸ªåŒºå—æ•°æ®ï¼Œé‚£ä¹ˆåé¢çš„åŒºå—éƒ½è¦è¿›è¡Œä¿®æ”¹ï¼Œè¿™ä¸ªæ—¶å€™å¹¶ä¸æ˜¯ç®€å•çš„ä¿®æ”¹ä¸€ä¸‹åé¢åŒºå—çš„åœ°å€æŒ‡å‘å°±èƒ½ç»“æŸçš„ï¼Œç”±äºåé¢çš„åŒºå—æ˜¯é€šè¿‡åŒºå—å“ˆå¸Œæ¥æŒ‡å‘çš„ï¼Œåªè¦å‰é¢çš„åŒºå—å‘ç”Ÿäº†å˜åŒ–ï¼Œè¿™ä¸ªåŒºå—å“ˆå¸Œå°±æ— æ•ˆäº†ï¼Œå°±æŒ‡ä¸åˆ°æ­£ç¡®çš„åŒºå—äº†</p><p>é™¤äº†æ•´ä¸ªåŒºå—ä¼šè¢«è®¡ç®—å“ˆå¸Œå¤–ï¼ŒåŒºå—ä¸­åŒ…å«çš„æ¯ä¸€ç¬”äº‹ç‰©æ•°æ®ä¹Ÿä¼šè¢«è®¡ç®—å‡ºä¸€ä¸ªå“ˆå¸Œå€¼ï¼Œç§°ä¸º<strong>äº‹ç‰©å“ˆå¸Œ</strong>ã€‚æ¯ä¸ªäº‹ç‰©å“ˆå¸Œéƒ½ä»£è¡¨ä¸€ä¸ªäº‹ç‰©</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å‰è¨€ï¼š&lt;/strong&gt; è¿™æœ¬ä¹¦ç”¨æ¯”è¾ƒå½¢è±¡çš„ä¾‹å­é˜è¿°äº†åŒºå—é“¾ï¼Œå¹¶ä»ä¸­é€æ­¥å¼•ç”³å‡ºåŒºå—é“¾ä¸­çš„ç›¸å…³æ¦‚å¿µã€‚å€¼å¾—ä¸€è¯»ï¼Œæ¨èï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;èŠ‚ç‚¹&quot;&gt;&lt;a href=&quot;#èŠ‚ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;èŠ‚ç‚¹&quot;&gt;&lt;/a&gt;èŠ‚ç‚¹&lt;/h3&gt;&lt;p&gt;åŒºå—é“¾ä¸­çš„å®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºå„ä¸ªç”¨æˆ·çš„ç”µå­é’±åŒ…&lt;/p&gt;
&lt;h3 id=&quot;ä¸€ä¸ªæ•…äº‹&quot;&gt;&lt;a href=&quot;#ä¸€ä¸ªæ•…äº‹&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ä¸ªæ•…äº‹&quot;&gt;&lt;/a&gt;ä¸€ä¸ªæ•…äº‹&lt;/h3&gt;&lt;p&gt;åœ¨æœ‰äº›ç³»ç»Ÿä¸­ï¼Œå°±è€ƒè™‘åˆ°è¢«æ·éª°å­æŠ•ä¸­çš„èŠ‚ç‚¹çš„åŠ³åŠ¨ä»˜å‡ºï¼ˆå³è®°è´¦ï¼Œç„¶åå‘å…¨ä½“å¹¿æ’­ï¼‰ï¼Œæ¯•ç«Ÿæ•´ç†æ•°æ®ã€éªŒè¯æ•°æ®ã€æ‰“åŒ…æ•°æ®ã€è¿˜è¦å¹¿è€Œå‘Šä¹‹ã€‚äºæ˜¯è®¾è®¡å‡ºä¸€ç§æ¿€åŠ±æœºåˆ¶ï¼Œè´Ÿè´£æ‰“åŒ…æ•°æ®çš„é‚£ä¸ªèŠ‚ç‚¹å¯ä»¥è·å¾—ç³»ç»Ÿçš„å¥–åŠ±ï¼Œè¿™ä¸ªå¥–åŠ±ç±»ä¼¼äºè®ºå›ç§¯åˆ†ï¼Œç«™åœ¨è½¯ä»¶æŠ€æœ¯çš„è§’åº¦ï¼Œå°±æ˜¯ä¸€ä¸ªæ•°æ®ã€‚è¿™ä¸ªæ•°æ®è¢«è§†ä¸º&lt;strong&gt;å¥–é‡‘&lt;/strong&gt;ï¼Œå¤§å®¶ä¼šå¾ˆç§¯æå»äº‰å–é‚£ä¸ªå¥–é‡‘ï¼Œäºæ˜¯å°±å¸Œæœ›éª°å­èƒ½æŠ•ä¸­è‡ªå·±ï¼Œæœ‰äº›åŒºå—é“¾ç³»ç»Ÿåœ¨è¿™ä¸ªç¯èŠ‚ä¼šè®¾è®¡å‡ºä¸€ç§å¸¦æœ‰ç«äº‰çš„æœºåˆ¶ï¼Œè®©å„ä¸ªèŠ‚ç‚¹å»æŠ¢ï¼Œè°èƒ½æŠ¢åˆ°è¿™ä¸ªæœºä¼šï¼Œè°å°±èƒ½è·å¾—å¤§åŒ…æ•°æ®çš„æƒåˆ©å¹¶åŒæ—¶è·å¾—è¿™ç¬”å¥–åŠ±ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šå¾ˆå½¢è±¡çš„å°†è¿™ä¸ªç«äº‰è¿‡ç¨‹ç§°ä¸º&lt;strong&gt;æŒ–å‘&lt;/strong&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Read" scheme="http://deeer.github.io/categories/Read/"/>
    
    
      <category term="BTC" scheme="http://deeer.github.io/tags/BTC/"/>
    
  </entry>
  
  <entry>
    <title>æ•´ç†è¯´æ˜</title>
    <link href="http://deeer.github.io/2018/02/27/%E6%95%B4%E7%90%86%E8%AF%B4%E6%98%8E/"/>
    <id>http://deeer.github.io/2018/02/27/æ•´ç†è¯´æ˜/</id>
    <published>2018-02-27T14:30:13.000Z</published>
    <updated>2018-02-27T15:15:02.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æœ€è¿‘å‘ç°æ’­å®¢æ ¼å¼å­˜åœ¨ä¸€äº›é—®é¢˜ï¼ŒåŒ…æ‹¬æœ€è¿‘ä¹Ÿæœ‰äº›æƒ³æ•´ç†åšå®¢çš„æƒ³æ³•ï¼Œæ‰€ä»¥å°†ä¹‹å‰çš„æ‰€æœ‰åšå®¢æ’¤ä¸‹ï¼Œé‡æ–°æ•´ç†å½’é›†ï¼Œæ¸©æ•…çŸ¥æ–°ï¼"><a href="#æœ€è¿‘å‘ç°æ’­å®¢æ ¼å¼å­˜åœ¨ä¸€äº›é—®é¢˜ï¼ŒåŒ…æ‹¬æœ€è¿‘ä¹Ÿæœ‰äº›æƒ³æ•´ç†åšå®¢çš„æƒ³æ³•ï¼Œæ‰€ä»¥å°†ä¹‹å‰çš„æ‰€æœ‰åšå®¢æ’¤ä¸‹ï¼Œé‡æ–°æ•´ç†å½’é›†ï¼Œæ¸©æ•…çŸ¥æ–°ï¼" class="headerlink" title="æœ€è¿‘å‘ç°æ’­å®¢æ ¼å¼å­˜åœ¨ä¸€äº›é—®é¢˜ï¼ŒåŒ…æ‹¬æœ€è¿‘ä¹Ÿæœ‰äº›æƒ³æ•´ç†åšå®¢çš„æƒ³æ³•ï¼Œæ‰€ä»¥å°†ä¹‹å‰çš„æ‰€æœ‰åšå®¢æ’¤ä¸‹ï¼Œé‡æ–°æ•´ç†å½’é›†ï¼Œæ¸©æ•…çŸ¥æ–°ï¼"></a>æœ€è¿‘å‘ç°æ’­å®¢æ ¼å¼å­˜åœ¨ä¸€äº›é—®é¢˜ï¼ŒåŒ…æ‹¬æœ€è¿‘ä¹Ÿæœ‰äº›æƒ³æ•´ç†åšå®¢çš„æƒ³æ³•ï¼Œæ‰€ä»¥å°†ä¹‹å‰çš„æ‰€æœ‰åšå®¢æ’¤ä¸‹ï¼Œé‡æ–°æ•´ç†å½’é›†ï¼Œæ¸©æ•…çŸ¥æ–°ï¼</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;æœ€è¿‘å‘ç°æ’­å®¢æ ¼å¼å­˜åœ¨ä¸€äº›é—®é¢˜ï¼ŒåŒ…æ‹¬æœ€è¿‘ä¹Ÿæœ‰äº›æƒ³æ•´ç†åšå®¢çš„æƒ³æ³•ï¼Œæ‰€ä»¥å°†ä¹‹å‰çš„æ‰€æœ‰åšå®¢æ’¤ä¸‹ï¼Œé‡æ–°æ•´ç†å½’é›†ï¼Œæ¸©æ•…çŸ¥æ–°ï¼&quot;&gt;&lt;a href=&quot;#æœ€è¿‘å‘ç°æ’­å®¢æ ¼å¼å­˜åœ¨ä¸€äº›é—®é¢˜ï¼ŒåŒ…æ‹¬æœ€è¿‘ä¹Ÿæœ‰äº›æƒ³æ•´ç†åšå®¢çš„æƒ³æ³•ï¼Œæ‰€ä»¥å°†ä¹‹å‰çš„æ‰€æœ‰åšå®¢æ’¤ä¸‹ï¼Œé‡æ–°æ•´ç†å½’é›†ï¼Œæ¸©æ•…çŸ¥æ–°ï¼&quot; class=
      
    
    </summary>
    
    
      <category term="WARNING" scheme="http://deeer.github.io/tags/WARNING/"/>
    
  </entry>
  
  <entry>
    <title>2017å¹´åº¦æ€»ç»“</title>
    <link href="http://deeer.github.io/2017/12/10/2017%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/"/>
    <id>http://deeer.github.io/2017/12/10/2017å¹´åº¦æ€»ç»“/</id>
    <published>2017-12-10T05:42:33.000Z</published>
    <updated>2018-02-27T15:17:36.000Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ä¸€å¹´è¿‡çš„å¥½å¿«ï¼Œè½¬çœ¼åˆæ˜¯ä¸€å¹´ã€‚ä½†æ˜¯æœ‰æ—¶å€™åˆæ„Ÿè§‰å¥½æ…¢ï¼Œæ‰æ¯•ä¸šä¸€å¹´ï¼Œæ ¡å›­ä¾æ—§æ˜¯é‚£ä¹ˆæ¸…æ™°å¯è§ã€‚</p><h1 id="è¿™ä¸€å¹´ã€‚"><a href="#è¿™ä¸€å¹´ã€‚" class="headerlink" title="è¿™ä¸€å¹´ã€‚"></a>è¿™ä¸€å¹´ã€‚</h1><h2 id="ç”Ÿæ´»"><a href="#ç”Ÿæ´»" class="headerlink" title="ç”Ÿæ´»"></a>ç”Ÿæ´»</h2><p>è¯´çœŸçš„ï¼Œæ¯•ä¸šä¸€å¹´ç”Ÿæ´»çœŸçš„ä¸å®¹æ˜“ï¼Œå€’ä¸æ˜¯å› ä¸ºé’±ï¼Œæ˜¯å› ä¸ºå¿ƒã€‚æ¯•ä¸šä¹‹åæˆ‘æ‰å‘ç°ä¸€ä¸ªäººçš„å†…å¿ƒï¼Œä¸€ä¸ªäººçš„spritå¯¹äºè¿™ä¸ªäººæ˜¯å¤šä¹ˆçš„é‡è¦ï¼Œé’±æ²¡æœ‰äº†å¯ä»¥å†æŒ£ï¼Œä½†æ˜¯å¤±å»å†…å¿ƒçš„å¼ºå¤§æ˜¯ä»€ä¹ˆéƒ½å¼¥è¡¥ä¸äº†çš„ã€‚æ°å¥½ï¼Œæˆ‘æ˜¯ä¸ªæ•æ„Ÿçš„äººã€‚å¯èƒ½ç”Ÿæ´»ç»™äºˆçš„çƒ™å°ä¼šåœ¨å¿ƒé‡Œæ›´åŠ æ·±åˆ»äº›ã€‚ä¹Ÿæ­£å› å¦‚æ­¤ï¼Œæˆ–è®¸æˆ‘èƒ½åœ¨è¿™äº›ä¼¤ç—›ä¸­ä½“ä¼šåˆ°æ›´åŠ æ·±åˆ»çš„é“ç†å§ã€‚æœ‰å¾—æœ‰å¤±ï¼Œä¹Ÿæ˜¯ä»¶å¥½äº‹ã€‚</p><p>ä¸€å¼€å§‹çš„æˆ‘ä»¥ä¸ºï¼Œç‰©è´¨çš„å¯Œè¶³å°±æ˜¯ä¸€åˆ‡ã€‚ç›¸æ¯”åŒé¾„äººï¼Œä¸€å¼€å§‹æˆ‘è§‰å¾—æˆ‘çš„ç‰©è´¨éœ€æ±‚å·²ç»ä¸é”™äº†ï¼Œç„¶è€Œä¸ä¹…ä¹‹åï¼Œæˆ‘å‘ç°æˆ‘å¼€å§‹è¿·å¤±äº†ï¼Œæˆ‘è¯•å›¾å»å¯»æ‰¾åŸå› ï¼Œå¼€å§‹å››å¤„å¯»æ‰¾æ–¹æ³•æ‘†è„±ï¼Œç›´åˆ°æœ‰ä¸€å¤©ï¼Œæˆ‘å¼€å§‹æ¥å—æ¥å—çœ¼å‰çš„ä¸€åˆ‡ï¼Œéšä¹‹å¿ƒä¸­çš„æ²¸è…¾æ‰æ…¢æ…¢å¹³é™ä¸‹æ¥ã€‚è®°å¾—é‚£å¤©ä¸‹åˆï¼Œè®¸ä¹…ä¸è§çš„å¹³é™ç«Ÿè®©æˆ‘æ„Ÿåˆ°ååˆ†çš„æ¬£å–œã€‚<br>è¿™æ‰æ˜¯æˆ‘æƒ³è¦çš„ç”Ÿæ´»ã€‚ä¸€ç§å­¦ä¹ é©±åŠ¨çš„ç”Ÿæ´»ã€‚<br><a id="more"></a></p><h2 id="æ˜¯çš„ï¼Œæˆ‘è¦èµ°äº†"><a href="#æ˜¯çš„ï¼Œæˆ‘è¦èµ°äº†" class="headerlink" title="æ˜¯çš„ï¼Œæˆ‘è¦èµ°äº†"></a>æ˜¯çš„ï¼Œæˆ‘è¦èµ°äº†</h2><p>åˆšå¼€å§‹å·¥ä½œçš„æˆ‘å¯¹çœ¼å‰çš„ä¸€åˆ‡éƒ½å……æ»¡æœªçŸ¥çš„æ–°é²œæ„Ÿã€‚ä½†æ˜¯åœ¨ä¸€ä¸ªåœ°æ–¹æ—¶é—´ä¹…äº†ï¼Œå°±è®©æˆ‘è§‰å¾—æ— èŠã€‚è™½ç„¶ç¼–ç¨‹æœ¬èº«æ˜¯ä»¶åˆ›é€ æ€§çš„å·¥ä½œï¼Œä½†æ˜¯åšä¹…äº†ä¾æ—§è§‰å¾—é‡å¤æ€§å¤ªå¤§ï¼Œå†åŠ ä¸Šä¸Šä¸‹ç­çš„åŠ³ç´¯ï¼Œå°±è§‰å¾—å¥½æ— èŠå•Šã€‚äºæ˜¯ï¼Œæˆ‘æƒ³ï¼Œæˆ‘è¿˜æ˜¯ç¦»å¼€å§ã€‚<br>è¿™ä¸ªå†³å®šå…¶å®å¯¹æˆ‘æ¥è¯´å¹¶ä¸æ˜¯å¾ˆå®¹æ˜“ï¼Œå› ä¸ºè¿™æ„å‘³ç€æˆ‘å°†æŠ›å¼€ç°æœ‰çš„ä¸€åˆ‡ï¼Œæ— è®ºæ˜¯ç‰©è´¨ä¸Šè¿˜æ˜¯ç²¾ç¥ä¸Šã€‚å½“ç„¶ç‰©è´¨æ˜¯å…¶æ¬¡çš„ï¼Œä¸»è¦è¿˜æ˜¯ç²¾ç¥ä¸Šï¼Œåœ¨ä¸€ä¸ªå›¢é˜Ÿå‘†ä¹…äº†ï¼Œå’Œæ•´ä¸ªå›¢é˜Ÿç»å†çš„é£é£é›¨é›¨ï¼Œä¸€èµ·å‘ç‰ˆï¼Œä¸€èµ·è®¨è®ºï¼Œä¸€èµ·å¼€å‘ã€‚å¤§å®¶éƒ½å¾ˆå¥½ï¼ŒçœŸçš„ï¼Œéƒ½å¾ˆå¥½ã€‚æ˜¯æˆ‘çš„é—®é¢˜ï¼Œæ˜¯æˆ‘çš„é—®é¢˜ã€‚æäº¤è¾å‘ˆä¹‹åï¼Œæˆ‘å¤§æ¦‚èŠ±äº†ä¸‰å››å¤©æ—¶é—´æ‰ç¼“è¿‡æ¥ã€‚å¤©ä¸‹æ²¡æœ‰ä¸æ•£çš„å®´å¸­ã€‚åªæ˜¯è§‰å¾—å¯¹ä¸èµ·ï¼Œå› ä¸ºæ¯æ¬¡æœ‰åŒäº‹ç¦»å¼€ï¼Œæˆ‘ä¼šè§‰å¾—å¾ˆéš¾è¿‡ï¼Œæˆ‘ä¸çŸ¥é“å…¶ä»–äººæ€ä¹ˆæƒ³ï¼Œè‡³å°‘æˆ‘æ˜¯è¿™æ ·ã€‚ç›¸åŒçš„ï¼Œæˆ‘çš„ç¦»å¼€ä¹Ÿå¯èƒ½å¯¹å›¢é˜Ÿé€ æˆå½±å“ï¼Œso sorry.</p><p>æ­¤å¤„åº”è¯¥æœ‰å›¾ï¼Œä½†æ˜¯æ€•æ”¾äº†æˆ‘å°±å†™ä¸ä¸‹å»äº†â€¦<br>å“â€¦æ„šè ¢çš„åœ°çƒäººå•Šâ€¦<br>ä¸ç ´ä¸ç«‹ï¼Œå¤§å®¶æœ‰ç¼˜å†è§å§ğŸ‘‹</p><p>è¿™æ¬¡ç¦»å¼€ä¹Ÿæœ‰ä¸ªé—æ†¾ï¼ŒåŸæœ¬æˆ‘æƒ³åˆ›é€ ä¸€ä¸ªå……æ»¡å­¦ä¹ æ°›å›´çš„å›¢é˜Ÿã€‚ä½†æ˜¯æˆ‘å¤±è´¥äº†ï¼ŒåŸæœ¬çš„åˆ†äº«ä¼šï¼Œæµäº§äº†ã€‚TLæƒ³ç»„ç»‡è®¢é˜…è¯»ä¹¦æ‚å¿—ï¼Œä¹Ÿæ²¡æœ‰ç»§ç»­æ‰§è¡Œã€‚æƒ³è®¨è®ºæŠ€æœ¯ï¼Œä½†æ˜¯ä¼¼ä¹å¹¶æ²¡æœ‰äººç†ä¼šã€‚æœ€åæˆ‘è¿˜æ˜¯é€‰æ‹©äº†æ²‰é»˜ï¼Œæ²¡æœ‰é€‰æ‹©çš„æ²‰é»˜ã€‚å¸Œæœ›æœ‰äººçœ‹åˆ°è¿™é‡Œçš„è¯ï¼Œèƒ½åŠ ç´§å»ºè®¾è¿™å—å§ğŸ™ã€‚å­¦ä¹ æ°›å›´æœ¬åº”è¯¥æ˜¯ä¸€ä¸ªå›¢é˜Ÿæœ€å¸å¼•äººçš„åœ°æ–¹ã€‚</p><h2 id="æœªæ¥"><a href="#æœªæ¥" class="headerlink" title="æœªæ¥"></a>æœªæ¥</h2><p>å›é¦–å»å¹´çš„æ€»ç»“ï¼Œè¯´å®è¯ã€‚é¢„å®šæŒ‡æ ‡å®Œæˆçš„å¹¶ä¸ç†æƒ³ã€‚è¿™ä¸€å¹´é‡Œå¿ƒæ€çš„å˜åŒ–ï¼ŒèŠ±è´¹äº†æˆ‘å¾ˆå¤šæ—¶é—´ã€‚ç”Ÿæ´»ä¸æ­¢çœ¼å‰çš„è‹Ÿä¸”ï¼Œè¿˜æœ‰ä»Šåçš„è‹Ÿä¸”ï¼Œæ—¶é—´ä¼šè§£å†³ä¸€åˆ‡å§ã€‚æ€»çš„æ¥è¯´ï¼Œæ”¶è·è¿˜æ˜¯æŒºå¤šçš„ï¼Œä¹Ÿç®—æ˜¯ä¸€ç§æˆé•¿å§:]<br>å¯¹äºæœªæ¥ï¼Œå…¶å®æˆ‘å¹¶æ²¡æœ‰ä»»ä½•æ‰“ç®—ã€‚è¿™ä¸€å¹´ç©çš„å·®ä¸å¤šäº†ï¼Œæ˜¯æ—¶å€™å‡ºå»å¼€å§‹è¸ä¸Šæ–°çš„å¾ç¨‹äº†ï¼</p><p>To be continued â€¦ </p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™ä¸€å¹´è¿‡çš„å¥½å¿«ï¼Œè½¬çœ¼åˆæ˜¯ä¸€å¹´ã€‚ä½†æ˜¯æœ‰æ—¶å€™åˆæ„Ÿè§‰å¥½æ…¢ï¼Œæ‰æ¯•ä¸šä¸€å¹´ï¼Œæ ¡å›­ä¾æ—§æ˜¯é‚£ä¹ˆæ¸…æ™°å¯è§ã€‚&lt;/p&gt;
&lt;h1 id=&quot;è¿™ä¸€å¹´ã€‚&quot;&gt;&lt;a href=&quot;#è¿™ä¸€å¹´ã€‚&quot; class=&quot;headerlink&quot; title=&quot;è¿™ä¸€å¹´ã€‚&quot;&gt;&lt;/a&gt;è¿™ä¸€å¹´ã€‚&lt;/h1&gt;&lt;h2 id=&quot;ç”Ÿæ´»&quot;&gt;&lt;a href=&quot;#ç”Ÿæ´»&quot; class=&quot;headerlink&quot; title=&quot;ç”Ÿæ´»&quot;&gt;&lt;/a&gt;ç”Ÿæ´»&lt;/h2&gt;&lt;p&gt;è¯´çœŸçš„ï¼Œæ¯•ä¸šä¸€å¹´ç”Ÿæ´»çœŸçš„ä¸å®¹æ˜“ï¼Œå€’ä¸æ˜¯å› ä¸ºé’±ï¼Œæ˜¯å› ä¸ºå¿ƒã€‚æ¯•ä¸šä¹‹åæˆ‘æ‰å‘ç°ä¸€ä¸ªäººçš„å†…å¿ƒï¼Œä¸€ä¸ªäººçš„spritå¯¹äºè¿™ä¸ªäººæ˜¯å¤šä¹ˆçš„é‡è¦ï¼Œé’±æ²¡æœ‰äº†å¯ä»¥å†æŒ£ï¼Œä½†æ˜¯å¤±å»å†…å¿ƒçš„å¼ºå¤§æ˜¯ä»€ä¹ˆéƒ½å¼¥è¡¥ä¸äº†çš„ã€‚æ°å¥½ï¼Œæˆ‘æ˜¯ä¸ªæ•æ„Ÿçš„äººã€‚å¯èƒ½ç”Ÿæ´»ç»™äºˆçš„çƒ™å°ä¼šåœ¨å¿ƒé‡Œæ›´åŠ æ·±åˆ»äº›ã€‚ä¹Ÿæ­£å› å¦‚æ­¤ï¼Œæˆ–è®¸æˆ‘èƒ½åœ¨è¿™äº›ä¼¤ç—›ä¸­ä½“ä¼šåˆ°æ›´åŠ æ·±åˆ»çš„é“ç†å§ã€‚æœ‰å¾—æœ‰å¤±ï¼Œä¹Ÿæ˜¯ä»¶å¥½äº‹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€å¼€å§‹çš„æˆ‘ä»¥ä¸ºï¼Œç‰©è´¨çš„å¯Œè¶³å°±æ˜¯ä¸€åˆ‡ã€‚ç›¸æ¯”åŒé¾„äººï¼Œä¸€å¼€å§‹æˆ‘è§‰å¾—æˆ‘çš„ç‰©è´¨éœ€æ±‚å·²ç»ä¸é”™äº†ï¼Œç„¶è€Œä¸ä¹…ä¹‹åï¼Œæˆ‘å‘ç°æˆ‘å¼€å§‹è¿·å¤±äº†ï¼Œæˆ‘è¯•å›¾å»å¯»æ‰¾åŸå› ï¼Œå¼€å§‹å››å¤„å¯»æ‰¾æ–¹æ³•æ‘†è„±ï¼Œç›´åˆ°æœ‰ä¸€å¤©ï¼Œæˆ‘å¼€å§‹æ¥å—æ¥å—çœ¼å‰çš„ä¸€åˆ‡ï¼Œéšä¹‹å¿ƒä¸­çš„æ²¸è…¾æ‰æ…¢æ…¢å¹³é™ä¸‹æ¥ã€‚è®°å¾—é‚£å¤©ä¸‹åˆï¼Œè®¸ä¹…ä¸è§çš„å¹³é™ç«Ÿè®©æˆ‘æ„Ÿåˆ°ååˆ†çš„æ¬£å–œã€‚&lt;br&gt;è¿™æ‰æ˜¯æˆ‘æƒ³è¦çš„ç”Ÿæ´»ã€‚ä¸€ç§å­¦ä¹ é©±åŠ¨çš„ç”Ÿæ´»ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="å¹´åº¦æ€»ç»“" scheme="http://deeer.github.io/categories/%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="å¹´åº¦æ€»ç»“" scheme="http://deeer.github.io/tags/%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>2016å¹´åº¦æ€»ç»“åŠ17å¹´å±•æœ›</title>
    <link href="http://deeer.github.io/2016/12/24/2016%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/"/>
    <id>http://deeer.github.io/2016/12/24/2016å¹´åº¦æ€»ç»“/</id>
    <published>2016-12-24T15:12:14.000Z</published>
    <updated>2018-02-27T15:16:08.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¹´å‘ç”Ÿäº†å¾ˆå¤šäº‹ï¼ŒåŸæœ¬æ‰“ç®—è¿™æ¬¡çš„å¹´åº¦æ€»ç»“ä¼šåœ¨æ˜Ÿå·´å…‹é‡Œå†™ï¼Œæš–æš–çš„ç©ºæ°”ï¼Œå–æ¯å’–å•¡ï¼Œæœ›æœ›çª—å¤–èµ¶è·¯çš„è¡Œäººã€‚è®¡åˆ’å¾€å¾€èµ¶ä¸ä¸Šå˜åŒ–ã€‚ã€‚ã€‚</p><h2 id="å­¦ç”Ÿæ—¶ä»£"><a href="#å­¦ç”Ÿæ—¶ä»£" class="headerlink" title="å­¦ç”Ÿæ—¶ä»£"></a>å­¦ç”Ÿæ—¶ä»£</h2><p>ä»Šå¹´ï¼Œå®Œæˆäº†å­¦æ ¡åˆ°ç¤¾ä¼šçš„å˜è¿ï¼Œå¤±å»å¾ˆå¤šï¼Œæ”¶è·çš„ä¹Ÿå¾ˆå¤šï¼Œä½†æ— è®ºæ€æ ·éƒ½æ˜¯ç”Ÿå‘½é•¿æ²³ä¸­çš„ä¸€éƒ¨åˆ†ã€‚è¢«æ—¶é—´èµ¶ç€èµ°ï¼Œåªèƒ½é»˜é»˜æ¥å—ï¼Œä¹ æƒ¯ã€‚ç°åœ¨çš„æˆ‘è¿˜æ—¶å¸¸æƒ³èµ·å­¦ç”Ÿæ—¶ä»£çš„æ ·å­ï¼Œæƒ³æƒ³å­¦ç”Ÿæ—¶ä»£å°±è¿™æ ·ç»“æŸäº†ï¼Œæ€»æ„Ÿè§‰ç©ºç©ºçš„ï¼Œæˆ‘åšäº†ä»€ä¹ˆï¼Ÿï¼Ÿï¼Ÿ</p><a id="more"></a><p>ç°åœ¨æƒ³æƒ³ï¼Œå­¦ç”Ÿæ—¶ä»£çš„è®°å¿†é‡Œæ€»ä¼šæµ®ç°å‡ºå››ä¸ªå­—ï¼šæ®Šé€”åŒå½’ã€‚å­¦ä¹ æ–¹é¢ï¼Œæˆ‘è§‰å¾—æˆ‘å·²ç»å¾ˆåŠªåŠ›äº†ï¼Œå¾ˆå¤šæ—¶å€™æ€»æ˜¯æ‰®æ¼”ä¸€ä¸ªå¥½å­¦ç”Ÿçš„è§’è‰²ã€‚ä½†æ˜¯äº‹æƒ…æ€»ä¼šå‘ç”Ÿæ„å¤–ï¼Œä¸€ä¸ªæ„å¤–å°±å¯èƒ½å¯¼è‡´å¾ˆå¤šæ„æƒ³ä¸åˆ°çš„ç»“æœï¼Œæˆ‘ï¼Œåªèƒ½ç¡¬ç€å¤´çš®ç»§ç»­èµ°ï¼Œå› ä¸ºè¿™æ˜¯æˆ‘çš„äººç”Ÿï¼Œå“ªæ€•è·Œçš„å†æ·±ï¼Œæ‘”çš„å†æƒ¨ï¼Œä¹Ÿåªèƒ½æœ‰æˆ‘è‡ªå·±æ‰›ç€ï¼Œæ²¡æœ‰äººèƒ½åˆ†æ‹…ã€‚æ‰€ä»¥æˆ‘ç°åœ¨è§‰å¾—æ˜¯ä¸æ˜¯å¤ªä¹–äº†ç‚¹ï¼Œä»¥è‡³äºç°åœ¨çš„å›å¿†ä¸­æ²¡æœ‰å¤šå°‘æ˜¯ä»¤æˆ‘å°è±¡æ·±åˆ»çš„åœ°æ–¹ï¼Œå¾ˆå¤šæ—¶å€™ä¸€å‘³çš„å¬ä»çˆ¶æ¯çš„æ„æ€ï¼Œåè€ŒæŠ¹æ€äº†å¾ˆå¤šæƒ³æ³•å’Œå¯èƒ½æ€§ã€‚å½“ç„¶ï¼Œè¿™åœ¨ç°åœ¨çœ‹æ¥éƒ½æ˜¯åè¯äº†ï¼Œåªèƒ½è¯´å¦‚æœä»å¤´å†æ¥çš„è¯ï¼Œæˆ‘åº”è¯¥ä¸ä¼šé‚£ä¹ˆä¹–ã€‚ä¸€æ–¹é¢ï¼Œå› ä¸ºä¸€è·¯èµ°æ¥ï¼Œé‡åˆ°è¿‡å¾ˆå¤šå¾ˆæœ‰æƒ³æ³•çš„äººï¼Œå¾ˆæœ‰æ„æ€çš„äººï¼Œä»–ä»¬çš„ä¸ªæ€§ã€æ€åº¦ç»ä¸æ˜¯ä¸€å¤©ä¸¤å¤©å°±å¾—åˆ°çš„ï¼Œæ‰€ä»¥ç°åœ¨åè€Œè®¤ä¸ºï¼Œæ·˜æ°”ç‚¹ä¹Ÿæ˜¯ä¸ªå¾ˆå¥½çš„ä¼˜ç‚¹ã€‚å¦ä¸€æ–¹é¢ï¼Œä»å¤§å­¦åˆ°æ­¥å…¥ç¤¾ä¼šä»¥æ¥ï¼Œä»–ä»¬çš„æƒ³æ³•å’Œè¯­è¨€èƒ½åŠ›èƒ½è®©ä»–ä»¬åœ¨ç¤¾ä¼šå’Œå­¦æ ¡ä¸­æˆä¸ºä½¼ä½¼è€…ã€‚</p><p>ç°åœ¨æˆ‘ä¹Ÿåœ¨ä¸æ–­çš„å°è¯•æ”¹å˜ä¸€äº›å›ºæœ‰çš„æ€è·¯ï¼Œç”¨å¦ä¸€ç§æ€åº¦ï¼Œæ€ç»´å»çœ‹å¾…ä¸€äº›ä¸œè¥¿ã€‚å¢åŠ å¤šæ–¹é¢çš„å¯èƒ½æ€§ï¼Œå¯»æ±‚å¦ä¸€ç§çªç ´ã€‚</p><p>ä¸è¿‡è¯´èµ·æ¥ï¼Œæˆ‘ä¹Ÿæ˜¯ä¸ªä¹–å­©å­çš„å—ç›Šè€…ï¼Œä»å¤§å­¦çš„å››å…­çº§ï¼Œåˆ°ç°åœ¨çš„å·¥ä½œã€‚æˆ‘çŸ¥é“å¦‚ä½•å»æ¢³ç†çŸ¥è¯†ï¼Œå¦‚ä½•ä»ä¸€ä¸ªé—®é¢˜ä¸­å‘ç°å…¶æœ¬è´¨ï¼Œç„¶åè¯•å›¾æ‰¾åˆ°é—®é¢˜çš„è§£å†³åŠæ³•ã€‚æ‰€ä»¥å¤šå¤šå°‘å°‘ä¹Ÿæ˜¯ç§ä¼˜åŠ¿ã€‚</p><h2 id="æ­¥å…¥ç¤¾ä¼š"><a href="#æ­¥å…¥ç¤¾ä¼š" class="headerlink" title="æ­¥å…¥ç¤¾ä¼š"></a>æ­¥å…¥ç¤¾ä¼š</h2><p>ä»Šå¹´ï¼Œæ¯•ä¸šäº†ã€‚ä»å­¦æ ¡æ¬å‡ºæ¥ä»¥åï¼Œå‘ç°å¤–é¢çš„ç‰©ä»·å¥½è´µï¼Œæˆ¿ä»·å¥½è´µï¼Œå‘¨å›´å†ä¹Ÿæ²¡æœ‰ç†Ÿæ‚‰çš„åŒå­¦äº†ã€‚ä¸€æ®µæ—¶é—´é‡Œæ€»æ˜¯è§‰å¾—ç©ºè¡è¡çš„ï¼Œæ„Ÿè§‰å¤±å»äº†ä»€ä¹ˆï¼Œå¿ƒç–¼ã€‚åœ¨å…¬å¸é‡Œå‘†ä¹…äº†ï¼Œç»å†äº†å¾ˆå¤šäººçš„å…¥èŒã€ç¦»èŒï¼Œä¸€å¼€å§‹ä¹Ÿæ˜¯è§‰å¾—ä¸èˆï¼Œä¸ä¹ æƒ¯ï¼Œæ€ä¹ˆçªç„¶å°±èµ°äº†å‘¢ï¼Ÿä¸€æ—¶é—´æœ‰äº›æƒ´æƒ´ä¸å®‰ï¼Œå››é¢æ¥šæ­Œï¼Œè¿˜å¥½éƒ½è¿‡æ¥äº†ã€‚ç°åœ¨é¢å¯¹åŒäº‹ç¦»èŒï¼Œä»æ—§æœ‰äº›æƒ‹æƒœï¼Œä½†æ˜¯å¤šå¤šå°‘å°‘æ·¡å®šäº†äº›ï¼Œå¤§æ¦‚è¿™å°±æ˜¯æˆé•¿å§ã€‚çœ‹æ·¡äº›å°±å¥½äº†ï¼Œäº‹æƒ…æ€»ä¼šå‘ç”Ÿï¼Œåªæ˜¯æ—¶é—´é—®é¢˜ã€‚</p><p>æœ€è¿‘åœ¨çœ‹ä¸€éƒ¨ç”µè§†å‰§ï¼ˆå¾ˆå°‘çœ‹ç”µè§†å‰§ï¼Œä½†æ˜¯é‚£éƒ¨å‰§çš„ç¡®åæ˜ äº†ç¤¾ä¼šä¸­çš„å¾ˆå¤šé—®é¢˜ã€‚å¾ˆå®é™…ï¼Œå¾ˆè´´åˆ‡ï¼‰ã€‚å‰§é‡Œæœ€è®©æˆ‘å°è±¡æ·±åˆ»çš„æ˜¯ï¼šè¿œå¤§çš„ç†æƒ³æ˜¯ä¹°æˆ¿ï¼Œä¼Ÿå¤§çš„ç†æƒ³æ˜¯ä¹°æˆ¿ã€‚<br>è™½ç„¶æ˜¯14å¹´çš„å‰§(ä¸»äººå…¬è¿˜åœ¨ç”¨é»‘è“),ä½†æ˜¯è¿™å¥è¯æ”¾åˆ°ç°åœ¨å¯¹æˆ‘æ¥è¯´è¿˜æ˜¯å¾ˆå®é™…çš„ã€‚<br>ä»¥å‰æ²¡æœ‰æƒ³è¿‡è¿™äº›é—®é¢˜ï¼Œåœ¨è¿™ä¸ªé˜¶æ®µï¼Œæ„ˆå‘è§‰å¾—å¾ˆç°å®ã€‚é¢œå€¼é«˜çš„ç¡®æœ‰ç”¨ï¼Œæœ‰è½¦æœ‰æˆ¿ï¼Œçš„ç¡®æœ‰è¯è¯­æƒï¼Œæ²¡è½¦æ²¡æˆ¿æ²¡é¢œå€¼ï¼Œloserä¸æ˜¯ä½ æ˜¯è°ï¼Ÿï¼š]</p><h2 id="å·¥ä½œ"><a href="#å·¥ä½œ" class="headerlink" title="å·¥ä½œ"></a>å·¥ä½œ</h2><p>ä½œä¸ºä¸€åç¨‹åºå‘˜ï¼ŒæŠ€æœ¯æµªæ½®æ»šæ»šå‘å‰ï¼Œå­¦ä¹ ä¸€ç›´æ˜¯ç¬¬ä¸€ç”Ÿäº§åŠ›ã€‚æ¯”è¾ƒå¼€å¿ƒçš„æ˜¯ï¼Œå…¬å¸é‡Œçš„è€çŒ´å­ä»¬éƒ½æ¯”è¾ƒå‹å–„ï¼Œå¤§å®¶éƒ½æ„¿æ„æ•™æˆè‡ªå·±çš„çŸ¥è¯†ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘æ¯”è¾ƒçœ‹é‡çš„ä¸€ç‚¹ï¼Œèæ´½çš„æ°”æ°›åˆæœ‰å…¬å¸æ”¯æŒå­¦ä¹ ã€‚å¸Œæœ›ä»Šåçš„ä¸€æ®µæ—¶é—´é‡Œèƒ½å¾—åˆ°é•¿è¶³çš„è¿›æ­¥ï¼Œä»å„ä¸ªæ–¹é¢æå‡è‡ªå·±çš„ä¸“ä¸šåº¦ã€‚åŠ æ²¹ï¼ï¼ï¼</p><p>ï¼ˆäº’è”ç½‘æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯æ¶ˆæ¯å‘å¸ƒçš„èŒƒå›´å¹¿ï¼Œé€Ÿåº¦å¿«ã€‚å…¶è¯´åˆ°è¿™é‡Œä¸å¾—ä¸è¯´ä¸€ä¸‹é©¬äº‘ï¼Œæˆ‘å¯¹é©¬äº‘è¿™äººä¸æ˜¯å¾ˆäº†è§£ï¼Œä½†æ˜¯åœ¨ä»–çš„ä¸€äº›æ¼”è®²é‡Œï¼Œæˆ‘è§‰å¾—ï¼Œå…¶å®é©¬äº‘çš„åˆ›ä¸šåˆæœŸå’Œå¤§å®¶éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ä»€ä¹ˆèµšé’±å°±å»åšä»€ä¹ˆã€‚å”¯ä¸€å¼‚äºå¸¸äººçš„ä¸€ç‚¹å°±æ˜¯é©¬äº‘å½“æ—¶å­¦ä¼šäº†è‹±è¯­ï¼Œç„¶åçœ‹ä¸œè¥¿çš„è§’åº¦å’ŒèŒƒå›´å°±ä¸ä¸€æ ·äº†ï¼Œä»ä¸€æ¬¡æ¬¡çš„åˆ›ä¸šå¤±è´¥ä¸­æ±²å–æ•™è®­ï¼Œç„¶åå‘ç°äº†ä¸€ä¸ªå•†æœºå¹¶ä¸æ–­åšå®ˆï¼Œokï¼Œä»–æˆåŠŸäº†ã€‚æˆ‘è®¤ä¸ºä»–çš„æˆåŠŸå¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯ä¾èµ–äºäº’è”ç½‘ï¼Œä»–å¾ˆæƒ³æ³•ï¼Œåœ¨äº’è”ç½‘ä¸æ˜¯ååˆ†æ™®åŠçš„æ—¶å€™å°±å¼€å§‹åšã€‚ç¬¬ä¸€ä¸ªåƒèƒèŸ¹çš„äººï¼Œé¦–å…ˆå é¢†äº†é«˜åœ°ï¼‰</p><h2 id="ç”Ÿæ´»"><a href="#ç”Ÿæ´»" class="headerlink" title="ç”Ÿæ´»"></a>ç”Ÿæ´»</h2><p>ä¹‹å‰çœ‹åˆ°ç™¾åº¦çš„ä¸€å¼ æœç´¢ç»Ÿè®¡åˆ†æï¼Œå‘ç°çš„æˆ‘æœç´ ç”Ÿæ´»èµ„æ–™çš„æ¬¡æ•°æ¥è¿‘äº0ï¼Œæœç´¢æŠ€æœ¯é—®é¢˜çš„æ¬¡æ•°å´å¾ˆå¤šã€‚è¯´å®è¯ï¼Œæˆ‘è®¤è¯†åˆ°è‡ªå·±çš„ç¼ºé™·ï¼Œä½†æ˜¯æƒ…å•†è¿™ç§ä¸œè¥¿ä¸æ˜¯è¯´è¦æœ‰å°±èƒ½æœ‰çš„ï¼Œå†åŠ ä¸Šå¹³æ—¶æœ€å¤šçš„æ¥è§¦çš„è¿˜æ˜¯ä»£ç ï¼Œ0æˆ–1çš„æŠ‰æ‹©ååˆ†æ˜ç¡®ã€‚è‹¥æœ‰è‹¥æ— çš„ä¸œè¥¿æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿï¼Ÿ<br>ä¸€å®šæ˜¯BUGï¼å¾ˆå¤šæ—¶å€™çœŸçš„è§‰å¾—è¿˜æ˜¯åšä¸ªæ•²ä»£ç çš„å°çŒ´å­å°±å¥½ï¼Œç®€ç®€å•å•ï¼Œä¹°è¡£æœèŠ±é‚£ä¹ˆå¤šæ—¶é—´è¿˜ä¸å¦‚è®©æˆ‘å¤šå­¦ç‚¹æŠ€æœ¯é—®é¢˜ï¼Œæµªè´¹æ—¶é—´ã€‚çœŸæƒ³æœ‰ä¸ªäººèƒ½å¸®æˆ‘é€‰å¥½è¡£æœï¼Œæˆ‘ç›´æ¥æŠŠé’±è½¬ä½ å¥½å—ï¼Ÿ</p><h2 id="å±•æœ›"><a href="#å±•æœ›" class="headerlink" title="å±•æœ›"></a>å±•æœ›</h2><p>æŠ€æœ¯å±•æœ›</p><pre><code>æ–°çš„ä¸€å¹´å¸Œæœ›èƒ½æŒæ¡çš„æŠ€æœ¯æ ˆï¼š1.JSï¼Node.js :ç›®å‰ä¹Ÿåœ¨å­¦ï¼Œå¯¹æˆ‘æ¥è¯´æ–°çš„ä¸œè¥¿å˜›ï¼Œåˆ°æ‰‹çš„æ–°ä¸œè¥¿æ€»æ˜¯æ¯”è¾ƒçš„å¼€å¿ƒçš„ï¼ŒåŒ…æ‹¬ç°åœ¨ä¹Ÿæœ‰æ—¶é—´å»å­¦ã€‚ä¸ªäººè®¤ä¸ºï¼ŒæŠ€æœ¯å‰æ™¯ä¹Ÿä¸é”™ã€‚2.Swift:ä½œä¸ºä¸€åiOSå¼€å‘å±…ç„¶è¿˜ä¸æ€ä¹ˆä¼šç”¨Swiftç®€ç›´è¯´ä¸è¿‡å»3.Java: Javaå¯ä»¥ä½œä¸ºäº†è§£ï¼Œæ…¢æ…¢æ·±å…¥ã€‚æ¯•ç«Ÿæ˜¯æ¯”è¾ƒå¤§çš„ä¸€å—ä¸œè¥¿ã€‚å­¦èµ·æ¥ä¹Ÿä¼šæ˜¯ä¸ªç¼“æ…¢çš„è¿‡ç¨‹å¸Œæœ›å¹´åº•çš„æ—¶å€™å†æ¥çœ‹è¿™ä¸ªï¼Œèƒ½é—®å¿ƒæ— æ„§çš„å¯¹è‡ªå·±è¯´ï¼šéƒ½å®ç°äº†ï¼åŠ æ²¹ï¼</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»Šå¹´å‘ç”Ÿäº†å¾ˆå¤šäº‹ï¼ŒåŸæœ¬æ‰“ç®—è¿™æ¬¡çš„å¹´åº¦æ€»ç»“ä¼šåœ¨æ˜Ÿå·´å…‹é‡Œå†™ï¼Œæš–æš–çš„ç©ºæ°”ï¼Œå–æ¯å’–å•¡ï¼Œæœ›æœ›çª—å¤–èµ¶è·¯çš„è¡Œäººã€‚è®¡åˆ’å¾€å¾€èµ¶ä¸ä¸Šå˜åŒ–ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å­¦ç”Ÿæ—¶ä»£&quot;&gt;&lt;a href=&quot;#å­¦ç”Ÿæ—¶ä»£&quot; class=&quot;headerlink&quot; title=&quot;å­¦ç”Ÿæ—¶ä»£&quot;&gt;&lt;/a&gt;å­¦ç”Ÿæ—¶ä»£&lt;/h2&gt;&lt;p&gt;ä»Šå¹´ï¼Œå®Œæˆäº†å­¦æ ¡åˆ°ç¤¾ä¼šçš„å˜è¿ï¼Œå¤±å»å¾ˆå¤šï¼Œæ”¶è·çš„ä¹Ÿå¾ˆå¤šï¼Œä½†æ— è®ºæ€æ ·éƒ½æ˜¯ç”Ÿå‘½é•¿æ²³ä¸­çš„ä¸€éƒ¨åˆ†ã€‚è¢«æ—¶é—´èµ¶ç€èµ°ï¼Œåªèƒ½é»˜é»˜æ¥å—ï¼Œä¹ æƒ¯ã€‚ç°åœ¨çš„æˆ‘è¿˜æ—¶å¸¸æƒ³èµ·å­¦ç”Ÿæ—¶ä»£çš„æ ·å­ï¼Œæƒ³æƒ³å­¦ç”Ÿæ—¶ä»£å°±è¿™æ ·ç»“æŸäº†ï¼Œæ€»æ„Ÿè§‰ç©ºç©ºçš„ï¼Œæˆ‘åšäº†ä»€ä¹ˆï¼Ÿï¼Ÿï¼Ÿ&lt;/p&gt;
    
    </summary>
    
      <category term="å¹´åº¦æ€»ç»“" scheme="http://deeer.github.io/categories/%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="å¹´åº¦æ€»ç»“" scheme="http://deeer.github.io/tags/%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>æ³¢æµªæ•ˆæœå®ç°</title>
    <link href="http://deeer.github.io/2016/03/17/%E6%B3%A2%E6%B5%AA%E6%95%88%E6%9E%9C%E5%AE%9E%E7%8E%B0/"/>
    <id>http://deeer.github.io/2016/03/17/æ³¢æµªæ•ˆæœå®ç°/</id>
    <published>2016-03-17T14:45:53.000Z</published>
    <updated>2018-05-24T14:30:08.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘é¡¹ç›®ä¸­æƒ³æ·»åŠ ä¸€äº›åŠ¨ç”»ï¼Œç„¶åå°±æƒ³åˆ°äº†æ³¢æµªçš„æ•ˆæœã€‚<br>Googleäº†ä¸€ä¸‹å¤§è‡´ï¼Œå¤§è‡´çš„æ–¹æ³•å°±æ˜¯ç”¨Quartzè¿™ä¸ªframeWorkç»˜åˆ¶</p><p>ä¸»è¦çš„æ ¸å¿ƒä»£ç <br><a id="more"></a></p><pre><code>-(void)drawRect:(CGRect)rect {  CGContextRef context = UIGraphicsGetCurrentContext();  CGMutablePathRef path = CGPathCreateMutable();  CGContextSetLineWidth(context, 1);  CGContextSetFillColorWithColor(context, [[UIColor purpleColor] CGColor]);  float y = basic_height;  CGPathMoveToPoint(path, NULL, 0, y);  //y = Asin(Bx+C)+D  //Aï¼šæŒ¯å¹… Bï¼šé¢‘ç‡ Cï¼šå·¦å³åç§» Dï¼šç›¸ä½for (float x= 0; x &lt;= rect.size.width; x++){     y = self.basicWaveNumber * sin(x/180.0*M_PI + 4 *self.RandonWaveNumber/M_PI) *5 +basic_height;  CGPathAddLineToPoint(path, nil, x, y);}  CGPathAddLineToPoint(path, nil, rect.size.width, rect.size.height);  CGPathAddLineToPoint(path, nil, 0, rect.size.height);  CGPathAddLineToPoint(path, nil, 0, basic_height);  CGContextAddPath(context, path);  CGContextFillPath(context);  CGContextDrawPath(context, kCGPathStroke);  CGPathRelease(path);}</code></pre><p>ä»£ç å¾ˆç®€å•ï¼ŒåŸºæœ¬çš„æ€æƒ³ä¸Šå°±æ˜¯è·å–ä¸Šä¸‹æ–‡ï¼Œç„¶ååœ¨æ¯ä¸ªåƒç´ ä¸Šé€ç‚¹æç»˜å‡ºæ³¢æµªçš„å½¢çŠ¶ï¼Œç„¶åæŠŠå„ä¸ªç‚¹è¿èµ·æ¥ã€‚æœ€åå°±æ˜¯ç”¨å®šæ—¶å™¨å»æ¯ç§’çš„åˆ·æ–°ã€‚</p><p>è¿™é‡Œæœ€ä¸ºé‡è¦çš„ä¸€ç‚¹å°±æ˜¯åœ¨forå¾ªç¯ä¸­çš„â€œy = â€¦â€ è¿™ä¸ªå…¬å¼ã€‚ä¸€å¼€å§‹ç®€ç›´å°±æ˜¯ä¸€è„¸æ‡µé€¼ã€‚ç„¶åæ…¢æ…¢æŒ–æ˜ï¼Œè¿™å±…ç„¶æ˜¯ç‰©ç†ä¸­çš„ä½™å¼¦å…¬å¼ï¼ˆæ­£å¼¦å…¬å¼ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼‰ã€‚å¥½å§ï¼ŒåŸºæœ¬ä¸Šå·²ç»è¿˜ç»™è€å¸ˆäº†ã€‚é«˜ä¸­ä»¥åé‚£ä¹ˆå¤šå¹´ã€‚ã€‚å“</p><p>è¿™é‡Œç€é‡è®²ä¸€ä¸‹è¿™ä¸ªå…¬å¼</p><blockquote><p>Y ï¼ Asin(Bx + C)</p></blockquote><p>A: æŒ¯å¹…</p><p>B: å’Œé¢‘ç‡ç›¸å…³,å°±æ˜¯æ³¢åŠ¨çš„å¿«æ…¢</p><p>C: ç‰©ç†ä¸Šè®²å«ç›¸ä½ï¼Œé€šä¿—çš„è®²å°±æ˜¯å·¦å³ç§»åŠ¨</p><p>åŸºæœ¬ä¸Šå°±æ˜¯è¿™æ ·ï¼Œæˆ‘ä»¬è¦åˆ¶ä½œå¸¦æœ‰æ³¢åŠ¨æ€§çš„æ•ˆæœæ—¶ï¼Œåªè¦è®©Bä¸Cçš„å€¼å³å¯ã€‚</p><p><strong>ä½†æ˜¯</strong></p><p>æ€»è§‰å¾—è¿™ç§æ–¹å¼çš„å¹¶ä¸æ˜¯æœ€å¥½çš„ï¼Œ0.02ç§’åˆ·æ–°ä¸€æ¬¡ï¼Œæ¯æ¬¡åˆ·æ–°è¿˜è¦æ‰§è¡Œä¸€éforå¾ªç¯ã€‚</p><p>so å°è¯•ä½¿ç”¨UIBezierPathä¸CALayerç»˜åˆ¶ï¼Œå‘ç°ä¸€ä¸ªé—®é¢˜ï¼šä¹‹å‰ä½¿ç”¨è´å¡å°”ç»˜åˆ¶çš„æ›²çº¿æ—¶éƒ½æ˜¯ä¸€æ¬¡ï¼Œæœ€å¤šä¸¤æ¬¡å¼¯æ›²çš„æ›²çº¿ã€‚åƒç°åœ¨è¿™è¿™æ ·å¤šæ¬¡è¿ç»­å¼¯æ›²çš„æ•ˆæœï¼Œä¸€ç›´æ²¡æœ‰é‡åˆ°è¿‡ã€‚å°è¯•ä½¿ç”¨- (void)addQuadCurveToPoint:(CGPoint)endPoint controlPoint:(CGPoint)controlPoint;è¿™ä¸ªæ–¹æ³•è¿›è¡Œå¤šä¸ªæ›²çº¿çš„è¿ç»­ç»˜åˆ¶ï¼Œä½†æ˜¯ä¼šåœ¨è¿æ¥å¤„å‡ºç°ä¸å¤Ÿå¹³æ»‘çš„ç°è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´è¿›è¡Œç»˜åˆ¶çš„æ—¶å€™å‰ä¸€æ®µçš„EndPointä¸åä¸€æ®µstartPointæ²¡æœ‰ä»»ä½•è¿æ¥æ€§å¤„ç†ï¼Œæ‰€ä»¥å‡ºæ¥çš„æ•ˆæœä¸èƒ½è¾¾åˆ°ç†æƒ³çš„å¹³æ»‘æ€§</p><p>è¿™ä¸ªé—®é¢˜æš‚æ—¶æ²¡æœ‰è§£å†³ï¼Œmarkä¹‹ã€‚ã€‚ã€‚ã€‚<br>//TODO: to be continueâ€¦</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘é¡¹ç›®ä¸­æƒ³æ·»åŠ ä¸€äº›åŠ¨ç”»ï¼Œç„¶åå°±æƒ³åˆ°äº†æ³¢æµªçš„æ•ˆæœã€‚&lt;br&gt;Googleäº†ä¸€ä¸‹å¤§è‡´ï¼Œå¤§è‡´çš„æ–¹æ³•å°±æ˜¯ç”¨Quartzè¿™ä¸ªframeWorkç»˜åˆ¶&lt;/p&gt;
&lt;p&gt;ä¸»è¦çš„æ ¸å¿ƒä»£ç &lt;br&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://deeer.github.io/categories/iOS/"/>
    
    
      <category term="UIGraphics" scheme="http://deeer.github.io/tags/UIGraphics/"/>
    
  </entry>
  
  <entry>
    <title>è¯»ä¹¦ç¬”è®°ä¹‹ä»¿æ¨ç‰¹å¯åŠ¨ç•Œé¢å®ç°Demo</title>
    <link href="http://deeer.github.io/2016/01/03/%E4%BB%BF%E6%8E%A8%E7%89%B9%E5%90%AF%E5%8A%A8%E7%95%8C%E9%9D%A2%E5%AE%9E%E7%8E%B0Demo/"/>
    <id>http://deeer.github.io/2016/01/03/ä»¿æ¨ç‰¹å¯åŠ¨ç•Œé¢å®ç°Demo/</id>
    <published>2016-01-03T11:34:26.000Z</published>
    <updated>2018-03-03T12:54:58.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong><em>å‰è¨€</em></strong></p><p>ä»Šå¤©è¦å®ç°çš„æ˜¯æ¨ç‰¹çš„å¯åŠ¨ç•Œé¢çš„æ•ˆæœ</p><p>ç±»ä¼¼äºè¿™æ ·<br><img src="http://7xjg07.com1.z0.glb.clouddn.com/twitterp.gif" alt="twitter0"><br><a id="more"></a></p><p>##é¦–å…ˆ<br>æ·»åŠ èƒŒæ™¯å›¾ç‰‡ï¼Œä¹‹ååœ¨ä¸Šé¢æ·»åŠ ä¸€å±‚Layerä½œä¸ºé®ç½©ã€‚<br>è¿™é‡Œçš„é®ç½©å’ŒPSä¸­çš„é®ç½©æ•ˆæœå¤§è‡´ç›¸åŒã€‚å°±æ˜¯åœ¨ä¸Šå±‚layerçš„ç›¸åº”åŒºåŸŸå†…æ‰ä¼šå‡ºç°ä¸‹å±‚åŒºåŸŸçš„å†…å®¹<br>æ•ˆæœå¦‚å›¾<br><img src="http://7xjg07.com1.z0.glb.clouddn.com/twittertwitter0.png" alt="twitter1"></p><p>å¾ˆæ˜æ˜¾å¯ä»¥çœ‹å‡ºä¸Šå±‚è¦†ç›–äº†ä¸€å±‚æ˜Ÿå‹çš„é®ç½©ã€‚</p><p>##ç¬¬äºŒæ­¥<br>å®ç°é®ç½©çš„å¤§å°å˜åŒ–ã€‚<br>è¿™é‡Œæ˜¯ä½¿ç”¨CAKeyframeAnimtion æ¥å®ç°<br>å…·ä½“ä»£ç å¦‚ä¸‹</p><pre><code>let transform = CAKeyframeAnimation(keyPath: &quot;bounds&quot;)    transform.delegate = self    transform.duration = 1    transform.beginTime = CACurrentMediaTime() + 1    let initalBounds = NSValue(CGRect:  CGRectMake(0, 0, 414, 763))    let secoundBounds = NSValue(CGRect: CGRectMake(0, 0, 50, 50))    let finalBounds = NSValue(CGRect:  CGRectMake(0, 0, 2000, 2000))    transform.values = [initalBounds,secoundBounds,finalBounds]    transform.keyTimes = [0 ,0.4,1]    transform.timingFunctions = [CAMediaTimingFunction(name: kCAMediaTimingFunctionEaseInEaseOut),CAMediaTimingFunction(name: kCAMediaTimingFunctionEaseOut)]    transform.removedOnCompletion = false    transform.fillMode = kCAFillModeForwards    masklayer.addAnimation(transform, forKey:&quot;maskAnimation&quot;)    UIView.animateWithDuration(0.25, delay: 1.3, options: UIViewAnimationOptions.TransitionNone, animations: { () -&gt; Void in        self.backgroundImageView!.transform = CGAffineTransformMakeScale(1.05, 1.05)        }) { (NilLiteralConvertible) -&gt; Void in       }</code></pre><p><strong><em>ï¼ï¼ï¼æ’æ’­ï¼ï¼ï¼</em></strong></p><ol><li>CAKeyframeAnimtion ä»åå­—ä¸­ä¹Ÿèƒ½çœ‹å‡ºæ˜¯å°±æ˜¯<em>å…³é”®å¸§åŠ¨ç”»</em>çš„æ„æ€ã€‚è¿™ä¸ªæ¦‚å¿µå’Œflashä¸­çš„å…³é”®å¸§åŠ¨ç‰©ååˆ†ç›¸ä¼¼ã€‚æˆ‘ä»¬åœ¨ä½¿ç”¨flashåˆ¶ä½œç›¸å…³åŠ¨ç”»çš„æ—¶å€™ï¼Œå¸¸å¸¸éœ€è¦è®¾ç½®åˆå§‹çŠ¶æ€ï¼Œç»“æŸçŠ¶æ€ï¼Œç„¶åä½¿ç”¨è¡¥é—´åŠ¨ç”»å®Œæˆè¿‡æ¸¡ã€‚æˆ‘ä»¬ç”šè‡³èƒ½åœ¨åŠ¨ç”»è¿åŠ¨çš„è¿‡ç¨‹ä¸­æŒ‡å®šä»»æ„ä½ç½®çš„çŠ¶æ€ã€‚åœ¨è¿™çš„å®ç°ä¹Ÿæ˜¯åŒæ ·çš„ï¼Œæˆ‘ä»¬é€šè¿‡keyPathå¯ä»¥åˆ›å»ºå¯¹åº”çš„åŠ¨ç”»ç±»å‹ã€‚<em>æ³¨æ„:</em>è¿™é‡Œçš„â€™boundsâ€™å¹¶ä¸æ˜¯éšæ„ç»™å‡ºçš„ã€‚æœ‰å…³keyå¯¹åº”çš„å¯é€‰å€¼æœ‰:boundsã€positionç­‰ç±»ä¼¼è¿™æ ·çš„Animatableå±æ€§ã€‚æˆ‘ä»¬è®¾ç½®äº†ä¸‰ç§çŠ¶æ€initalBoundsã€secoundBoundsã€finalBoundsåˆ†åˆ«å¯¹åº”ä¸‰ä¸ªkeyTime:[0 ,0.4,1]</li></ol><p>2.å½“åœ¨ç»™ä¸€ä¸ªCALyeræ·»åŠ åŠ¨ç”»çš„æ—¶å€™ï¼ŒåŠ¨ç”»å¹¶æ²¡æœ‰æ”¹å˜layerçš„å®é™…å±æ€§ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªåŸå§‹layerçš„æ‹·è´ä½œä¸ºå¹¶åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡ŒåŠ¨ç”»æ¸²æŸ“ã€‚è‹¹æœå°†åŸå§‹layerç§°ä¸ºModel Layerï¼Œå°†æ‹·è´çš„layerç§°ä¸ºPresentation Layer.Presentation Layerä¼šéšåŠ¨ç”»çš„è¿›åº¦å®æ—¶æ”¹å˜ï¼Œè€ŒModel Layerä¸ä¼š</p><p>3.åœ¨åŠ¨ç”»ç»“æŸåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é”€æ¯Presentation Layeræ‰€ä»¥åŠ¨ç”»ä¼šå›åˆ°åˆå§‹çš„çŠ¶æ€ï¼Œæ‰€ä»¥è¿™é‡Œè¦ä½¿ç”¨removedOnCompletionè¿™ä¸ªå±æ€§ï¼Œè€Œè¿™ä¸ªå±æ€§é»˜è®¤æ˜¯trueï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å…¶è®¾ä¸ºfalseã€‚è¿™æ ·å°±ä¸ä¼šç§»é™¤æœ€åçš„æ•ˆæœäº†</p><p>4.æœ‰å…³çš„fillModeçš„ç›¸å…³ä»‹ç»:è¯¥å±æ€§æœ‰å››ä¸ªæšä¸¾å€¼ï¼Œåˆ†åˆ«å¯¹åº”å››ç§ä¸åŒçš„æƒ…å†µ</p><pre><code>kCAFillModeRemoved:åŠ¨ç”»ç»“æŸåï¼Œå°†layerè®¾ç½®å›åˆå§‹çš„çŠ¶æ€,åŠ¨ç”»å¼€å§‹å’Œç»“æŸå‰å¯¹åŠ¨ç”»éƒ½æ²¡æœ‰å½±å“kCAFillModeForwards:åŠ¨ç”»ç»“æŸåä¿æŒåŠ¨ç”»æœ€åçš„çŠ¶æ€kCAFillModeBackwards:åŠ¨ç”»å¼€å§‹å‰ï¼Œåªè¦å°†åŠ¨ç”»åŠ å…¥layerï¼Œlayerå°±å¤„äºåŠ¨ç”»çš„åˆå§‹çŠ¶æ€kCAFillModeBoth:åŠ¨ç”»åŠ å…¥åï¼Œç«‹å³å¤„äºåˆå§‹çŠ¶æ€ï¼ŒåŠ¨ç”»ç»“æŸåï¼Œä¿æŒåŠ¨ç”»ç»“æŸçŠ¶æ€</code></pre><p><strong><em>ï¼ï¼ï¼æ’æ’­ç»“æŸï¼ï¼ï¼</em></strong></p><p>#æœ€å<br>ä¸ºäº†èƒ½å°†åŠ¨ç”»æ•ˆæœè¡”æ¥çš„æ›´å¥½ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é®ç½©å’ŒèƒŒæ™¯å±‚ä¹‹é—´æ·»åŠ ä¸€å±‚åŠ¨ç”»</p><pre><code>let maskView = UIView()   maskView.frame = CGRectMake(0, 0, 414, 867)   maskView.backgroundColor = UIColor.whiteColor()   self.view.addSubview(maskView)   self.view.bringSubviewToFront(maskView)   UIView .animateWithDuration(0.1, delay: 1.35, options: UIViewAnimationOptions.CurveEaseIn, animations: { () -&gt; Void in       maskView.alpha = 0.0       }) { (NilLiteralConvertible) -&gt; Void in           maskView.removeFromSuperview()   }</code></pre><p><strong><em>å®ç°å®Œæ•´ä»£ç :<a href="https://github.com/Deeer/twitterLunchrAnnimationDemo" target="_blank" rel="noopener">https://github.com/Deeer/twitterLunchrAnnimationDemo</a></em></strong></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;&lt;em&gt;å‰è¨€&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä»Šå¤©è¦å®ç°çš„æ˜¯æ¨ç‰¹çš„å¯åŠ¨ç•Œé¢çš„æ•ˆæœ&lt;/p&gt;
&lt;p&gt;ç±»ä¼¼äºè¿™æ ·&lt;br&gt;&lt;img src=&quot;http://7xjg07.com1.z0.glb.clouddn.com/twitterp.gif&quot; alt=&quot;twitter0&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="iOSDemo" scheme="http://deeer.github.io/categories/iOSDemo/"/>
    
    
      <category term="Twitterã€€" scheme="http://deeer.github.io/tags/Twitter/"/>
    
  </entry>
  
  <entry>
    <title>2015å¹´åº¦æ€»ç»“</title>
    <link href="http://deeer.github.io/2015/12/31/2015%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/"/>
    <id>http://deeer.github.io/2015/12/31/2015å¹´åº¦æ€»ç»“/</id>
    <published>2015-12-31T14:45:53.000Z</published>
    <updated>2018-02-27T15:18:43.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ—¶å…‰é£é€"><a href="#æ—¶å…‰é£é€" class="headerlink" title="æ—¶å…‰é£é€"></a>æ—¶å…‰é£é€</h1><p>ï¼ï¼ï¼è®°å¾—ä¸Šä¸ªå¹´æœ«æ—¶èŠ‚ï¼Œè¿˜åœ¨æ‰“ç®—ç€ç”¨ä¸€å¹´çš„æ—¶é—´æ¥åšä¸€ä»¶äº‹ã€‚ä½†æ˜¯ä¸€ç›´æƒ³ä¸åˆ°å»åšäº›ä»€ä¹ˆã€‚ä½†æ˜¯æƒ³ä¸åˆ°åæ¥ä¼šå¿™æˆè¿™æ ·ã€‚å¤§å››çš„ä¸ŠåŠå­¦æœŸï¼Œä¹Ÿå°±æ˜¯15å¹´çš„å¹´æœ«ï¼Œå¼€å§‹èµ°å‡ºæ ¡å›­ï¼Œèµ°å‘ç¤¾ä¼šå¼€å§‹å·¥ä½œã€‚åˆæ˜¯ä¸€ä¸ªæ–°çš„å¼€å§‹çš„ï¼Œæ–°çš„èµ·ç‚¹ï¼Œæ–°çš„ç¯å¢ƒã€‚åœ¨æˆ‘æŠ•èº«å·¥ä½œçš„å‡ ä¸ªæœˆé‡Œï¼Œæ—¶é—´çœŸçš„éå¸¸å¿«ã€‚æ¯å¤©éƒ½ä¼šæœ‰é—®é¢˜ï¼Œæ¯å¤©éƒ½åœ¨æƒ³ç€å°è¯•ç€è§£å†³é—®é¢˜ã€‚æ¯å¤©çš„æœ€ä¸çˆ½çš„å°±æ˜¯æ—©ä¸Šä¸Šç­æ—¶å€™ï¼Œè¯´å®è¯ï¼Œç¡çœ æ—¶é—´çœŸä¸å¤Ÿï¼Œæœ‰æ—¶ç”šè‡³ä¸ºäº†èµ¶è¿›åº¦ä¸€å¤©è¦å·¥ä½œè¿‘21ä¸ªå°æ—¶ã€‚3ä¸ªå°æ—¶çš„ç¡çœ æ—¶é—´æ˜¯ä¸ªå¥¢ä¾ˆçš„äº«å—ã€‚æ²¡åŠæ³•ï¼Œç¬¬äºŒå¤©è¿˜è¦å·¥ä½œï¼Œè¿˜æ˜¯ç¨å¾®ä¼šç¡å„¿ã€‚åœ¨å…¬äº¤ä¸Šä¹Ÿå®¹æ˜“ç¡ç€ï¼Œè¿·è¿·ç³Šç³Šåˆ°å…¬å¸ï¼Œç»“æœæˆ‘è¿˜æ˜¯ç¬¬ä¸€ä¸ªåˆ°çš„ã€‚å…¬å¸ç¦»å­¦æ ¡ä¹Ÿä¸è¿œï¼Œä½†æ˜¯å¼ºè¿«ç—‡æ€»è§‰å¾—è¿Ÿåˆ°ä¸å¥½ï¼Œä¹Ÿè®¸æ˜¯åœ¨æ ¡æ—¶åŸ¹å…»çš„ä¹ æƒ¯å§ã€‚æ‰€ä»¥ä¸€åŠéƒ½ä¼šæå‰åŠä¸ªå°æ—¶åˆ°å…¬å¸ï¼Œåªå¯æƒœç”µè„‘ååº”å®åœ¨å¤ªæ…¢ï¼Œå¼€æœºè¦å¥½ä¹…ã€‚ã€‚ã€‚å¿ƒå¥½ç´¯ğŸ˜‚ã€‚ç°åœ¨è¿˜åªæ˜¯ä¸€åªå°çŒ´å­ï¼Œä¹Ÿç®—æ˜¯åˆæ­¥èµ°ä¸Šäº†è‡ªå·±é¢„æƒ³çš„è½¨è¿¹å§ã€‚</p><h2 id=""><a href="#" class="headerlink" title=""></a><a id="more"></a></h2><p>ï¼ï¼ï¼å¤§å­¦ç”Ÿæ¶¯ä¹Ÿå°±å¿«è¿‡å»äº†ã€‚ä»å¤§ä¸€æ—¶é™Œç”Ÿå°´å°¬ï¼Œåˆ°å¤§å››çš„â€œåŠ³ç‡•åˆ†é£â€ï¼Œæ•´ä¸ªè¿‡ç¨‹æ˜¯ååˆ†å¾®å¦™çš„ã€‚æ„Ÿè§‰æˆ‘çš„å¤§å­¦éƒ½æ²¡åšä»€ä¹ˆå°±è¿‡å»äº†ï¼Œå¥½å¿«ï¼ï¼æ—¥å­ä¸€å¤©å¤©çš„è¿‡ï¼Œæƒ³æƒ³ä¹Ÿæœ‰ä¸‰å¹´å¤šäº†å‘¢ã€‚ç°åœ¨æ˜¯æœ€åçš„å°¾å·´äº†ï¼Œæ‰€æœ‰è¿‡å»å‘ç”Ÿçš„ç§ç§ç°åœ¨æ„Ÿè§‰éƒ½å·²ç»æ— æ‰€è°“äº†ã€‚å¤§å®¶éƒ½æ˜¯åŒå­¦ä¸€åœºï¼Œä¹Ÿä¸å®¹æ˜“ã€‚</p><p>çªç„¶å‘ç°æ•´ä¸ªä¼¼ä¹å¤§å­¦éƒ½æ˜¯ä»â€œå¤§å®¶åŒå­¦ä¸€åœºâ€å¼€å§‹ï¼Œåˆæ˜¯ä»â€œå¤§å®¶åŒå­¦ä¸€åœºâ€ç»“æŸçš„ã€‚ä¹Ÿä¸ç”¨åˆ»æ„è¿½å»ä»€ä¹ˆï¼Œå¤§å®¶å„è‡ªå®‰å¥½ï¼Œæ‰æ˜¯çœŸçš„å¥½</p><hr><p>ï¼ï¼ï¼æ–°çš„ä¸€å¹´ï¼Œæ–°çš„å¼€å§‹ï¼Œä»Šå¹´çš„ä¸»é¢˜æ˜¯REVERSEã€‚å¸Œæœ›èƒ½åœ¨æ¥ä¸‹æ¥ä¸€å¹´çš„æ—¶é—´é‡Œåšäº›é¢ è¦†æ€§çš„ä¸œè¥¿ï¼Œå°è¯•ä¸‹ä¸ä¸€æ ·çš„é€‰æ‹©ã€‚æ”¹å˜ç°åœ¨çš„ç”Ÿæ´»çŠ¶å†µï¼Œæ€ç»´æ–¹å¼ï¼Œè®©ç”Ÿæ´»å˜çš„æ›´åŠ å¤šå½©ï¼ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ—¶å…‰é£é€&quot;&gt;&lt;a href=&quot;#æ—¶å…‰é£é€&quot; class=&quot;headerlink&quot; title=&quot;æ—¶å…‰é£é€&quot;&gt;&lt;/a&gt;æ—¶å…‰é£é€&lt;/h1&gt;&lt;p&gt;ï¼ï¼ï¼è®°å¾—ä¸Šä¸ªå¹´æœ«æ—¶èŠ‚ï¼Œè¿˜åœ¨æ‰“ç®—ç€ç”¨ä¸€å¹´çš„æ—¶é—´æ¥åšä¸€ä»¶äº‹ã€‚ä½†æ˜¯ä¸€ç›´æƒ³ä¸åˆ°å»åšäº›ä»€ä¹ˆã€‚ä½†æ˜¯æƒ³ä¸åˆ°åæ¥ä¼šå¿™æˆè¿™æ ·ã€‚å¤§å››çš„ä¸ŠåŠå­¦æœŸï¼Œä¹Ÿå°±æ˜¯15å¹´çš„å¹´æœ«ï¼Œå¼€å§‹èµ°å‡ºæ ¡å›­ï¼Œèµ°å‘ç¤¾ä¼šå¼€å§‹å·¥ä½œã€‚åˆæ˜¯ä¸€ä¸ªæ–°çš„å¼€å§‹çš„ï¼Œæ–°çš„èµ·ç‚¹ï¼Œæ–°çš„ç¯å¢ƒã€‚åœ¨æˆ‘æŠ•èº«å·¥ä½œçš„å‡ ä¸ªæœˆé‡Œï¼Œæ—¶é—´çœŸçš„éå¸¸å¿«ã€‚æ¯å¤©éƒ½ä¼šæœ‰é—®é¢˜ï¼Œæ¯å¤©éƒ½åœ¨æƒ³ç€å°è¯•ç€è§£å†³é—®é¢˜ã€‚æ¯å¤©çš„æœ€ä¸çˆ½çš„å°±æ˜¯æ—©ä¸Šä¸Šç­æ—¶å€™ï¼Œè¯´å®è¯ï¼Œç¡çœ æ—¶é—´çœŸä¸å¤Ÿï¼Œæœ‰æ—¶ç”šè‡³ä¸ºäº†èµ¶è¿›åº¦ä¸€å¤©è¦å·¥ä½œè¿‘21ä¸ªå°æ—¶ã€‚3ä¸ªå°æ—¶çš„ç¡çœ æ—¶é—´æ˜¯ä¸ªå¥¢ä¾ˆçš„äº«å—ã€‚æ²¡åŠæ³•ï¼Œç¬¬äºŒå¤©è¿˜è¦å·¥ä½œï¼Œè¿˜æ˜¯ç¨å¾®ä¼šç¡å„¿ã€‚åœ¨å…¬äº¤ä¸Šä¹Ÿå®¹æ˜“ç¡ç€ï¼Œè¿·è¿·ç³Šç³Šåˆ°å…¬å¸ï¼Œç»“æœæˆ‘è¿˜æ˜¯ç¬¬ä¸€ä¸ªåˆ°çš„ã€‚å…¬å¸ç¦»å­¦æ ¡ä¹Ÿä¸è¿œï¼Œä½†æ˜¯å¼ºè¿«ç—‡æ€»è§‰å¾—è¿Ÿåˆ°ä¸å¥½ï¼Œä¹Ÿè®¸æ˜¯åœ¨æ ¡æ—¶åŸ¹å…»çš„ä¹ æƒ¯å§ã€‚æ‰€ä»¥ä¸€åŠéƒ½ä¼šæå‰åŠä¸ªå°æ—¶åˆ°å…¬å¸ï¼Œåªå¯æƒœç”µè„‘ååº”å®åœ¨å¤ªæ…¢ï¼Œå¼€æœºè¦å¥½ä¹…ã€‚ã€‚ã€‚å¿ƒå¥½ç´¯ğŸ˜‚ã€‚ç°åœ¨è¿˜åªæ˜¯ä¸€åªå°çŒ´å­ï¼Œä¹Ÿç®—æ˜¯åˆæ­¥èµ°ä¸Šäº†è‡ªå·±é¢„æƒ³çš„è½¨è¿¹å§ã€‚&lt;/p&gt;
&lt;h2 id=&quot;&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;headerlink&quot; title=&quot;&quot;&gt;&lt;/a&gt;
    
    </summary>
    
      <category term="å¹´åº¦æ€»ç»“" scheme="http://deeer.github.io/categories/%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="å¹´åº¦æ€»ç»“" scheme="http://deeer.github.io/tags/%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>UITableViewCellè‡ªé€‚åº”é«˜åº¦ï¼ˆiOS8ï¼‰</title>
    <link href="http://deeer.github.io/2015/09/27/UITableViewCell%E8%87%AA%E9%80%82%E5%BA%94%E9%AB%98%E5%BA%A6Demo/"/>
    <id>http://deeer.github.io/2015/09/27/UITableViewCellè‡ªé€‚åº”é«˜åº¦Demo/</id>
    <published>2015-09-27T05:55:05.000Z</published>
    <updated>2018-03-03T12:55:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åšé¡¹ç›®æ—¶é‡åˆ°ä¸ªcellçš„é«˜åº¦è‡ªé€‚åº”é—®é¢˜,å¤§è‡´çš„éœ€æ±‚æ˜¯è¿™æ ·å­çš„<br><br></p><p><img src="http://7xjg07.com1.z0.glb.clouddn.com/DeeIMG_0006.jpg" alt="Cellè‡ªé€‚åº”"></p><p>cellä¸­ä¸»è¦æœ‰ä¸‰å—åŒºåŸŸåˆ†åˆ«å¯¹åº”ä¸‰ä¸ªlabelã€‚å¹¶ä¸”ä¸‰ä¸ªlabelçš„yå€¼æ˜¯ç›¸åŒçš„ã€‚æ¯ä¸ªlabelä¹‹é—´çš„æ–‡å­—éƒ½æœ‰ä¸€å®šçš„è·ç¦»ï¼Œä½¿å¾—æ¯å—åŒºåŸŸéƒ½æœ‰ä¸€ä¸ªå¾ˆå¥½çš„åˆ’åˆ†ã€‚</p><a id="more"></a><p><br></p><p>#iOS8ï¼ï¼self Sizing Cells</p><p>å¼€å§‹æ²¡æ‰¾åˆ°å¥½çš„è§£å†³åŠæ³•ã€‚å­—æ•°ä¸€å¤šä¹Ÿä¼šå‡ºç°ä¸€äº›é—®é¢˜ã€‚<br>ä»Šå¤©ç‰¹åœ°å¥½å¥½æ•´ç†äº†ä¸€ä¸‹</p><p>å‘ç°åœ¨iOS8ä»¥åè®¡ç®—é«˜åº¦å¯ä»¥ä½¿ç”¨self Sizing Cellsæ¥å¯¹é«˜åº¦è¿›è¡Œå¤„ç†ã€‚<br>ä½†æ˜¯æˆ‘ä»¬éœ€è¦æ³¨æ„çš„:<br><br></p><p>1.cellé‡ç‚¹å†…å®¹å¿…é¡»æœ‰ç›¸åº”çš„çº¦æŸï¼ï¼ç½‘ä¸Šçœ‹åˆ°ä¸€äº›ä½¿ç”¨Auto Layoutæ¥è¿›è¡Œçº¦æŸçš„ã€‚æˆ‘è¿™é‡Œæ˜¯ä½¿ç”¨Masonry<br><br></p><p>2.è®¾ç½®tableviewçš„estimatedRowHeightï¼Œæˆ–è€…è®¾ç½®cellçš„estimatedRowHeighté«˜åº¦ã€‚ä¸¤è€…ä¸­ä»»é€‰å…¶ä¸€å³å¯ï¼Œä½†æ˜¯åƒä¸‡ä¸èƒ½æ²¡æœ‰<br><br></p><p>3.è®¾ç½®tabelVeiwçš„rowHeightå±æ€§ä¸ºUITableViewAutomaticDimensionã€‚<br><br></p><p>å³åœ¨viewDidloadä¸­æ·»åŠ </p><pre><code>//cellç”¨Masonryå¸ƒå±€å¥½åï¼Œæ·»åŠ è¿™ä¸¤å¥å³å¯self.tableView.estimatedRowHeight = 44.0f;self.tableView.rowHeight = UITableViewAutomaticDimension;</code></pre><p>å®ç°ä»¥ä¸Šä¸‰æ­¥ï¼Œæˆ‘ä»¬å°±ä¸ç”¨å»å¤„ç†ä¸é«˜åº¦ç›¸ç›¸å…³çš„ä»£ç†æ–¹æ³•äº†</p><p>#æ³¨æ„</p><p>æˆ‘ä»¬åœ¨ç”¨masonryè¿›è¡Œè‡ªåŠ¨å¸ƒå±€çš„æ—¶å€™ï¼Œå¦‚æœcellä¸­å„ä¸ªlabelæ–‡å­—æ²¡æœ‰å¯¹é½ã€‚å³è¿™ç§æ•ˆæœ<br><img src="http://7xjg07.com1.z0.glb.clouddn.com/DeeSimulator%20Screen%20Shot%202015å¹´9æœˆ27æ—¥%20ä¸‹åˆ2.42.30.png" alt="Cellè‡ªé€‚åº”wrong2"></p><p>è¿™é‡Œå°±æ˜¯Masonryå¸ƒå±€çš„é—®é¢˜äº†<br>ä¸‹é¢æˆ‘ä»¬ä¸ºdetailLblæ·»åŠ bottomçš„offsetå€¼ã€‚</p><pre><code>- (void)createFrame {[self.nameLbl mas_makeConstraints:^(MASConstraintMaker *make) {make.left.equalTo(self.contentView).offset(15);make.top.equalTo(self.contentView).offset(15);make.width.lessThanOrEqualTo(@60);}];[self.detailLbl mas_makeConstraints:^(MASConstraintMaker *make) {   make.left.equalTo(self.contentView).offset(90);make.top.equalTo(self.contentView).offset(15);make.right.equalTo(self.contentView).offset(-65);//æ·»åŠ è¿™å¥make.bottom.equalTo(self.contentView).offset(-10);}];[self.timeLbl mas_makeConstraints:^(MASConstraintMaker *make) {make.right.equalTo(self.contentView).offset(-15);make.top.equalTo(self.contentView).offset(15);make.width.lessThanOrEqualTo(@50);}];}</code></pre><p>è¿™æ ·æ— è®ºæ–‡å­—å¤šå°‘ï¼Œä¸­é—´çš„æ–‡å­—é€‚ä¸­è·ç¦»åº•éƒ¨éƒ½ä¸º10</p><p><br><br><img src="http://7xjg07.com1.z0.glb.clouddn.com/DeeSimulator%20Screen%20Shot%202015å¹´9æœˆ27æ—¥%20ä¸‹åˆ3.11.26.png" alt="CellFinal1"><br><br></p><p>æ•ˆæœä¸é”™çš„æ ·å­å‘¢ï¼ï¼(^O^)<br>ä½†æ˜¯ä»£ç ä¸­æš´éœ²å‡ºåˆä¸€ä¸ªé—®é¢˜ï¼Œå·¦ä¾§nameLblæ–‡å­—ä¸€å¯¹ä¼šåˆä¼šå‡ºç°bug<br>ä»€ä¹ˆé¬¼ï¼ï¼<br>äºæ˜¯åˆä¸€æ¬¡é™·å…¥äº†æ²‰æ€ä¸­ã€‚ã€‚ã€‚<br><br><br><img src="http://7xjg07.com1.z0.glb.clouddn.com/Deedee.jpg" alt="InsertCPic"><br><br></p><p>ç¿»ç¿»æ–‡æ¡£åˆæƒ³å‡ºäº†ä¸€ä¸ªå¥½åŠæ³• ï¼ï¼ä¸ç»‘å®šbottomçš„è¾¹è·ï¼Œæ”¹ä¸ºheightè®¾å®šæœ€å¤§å€¼</p><pre><code>- (void)createFrame{    [self.nameLbl mas_makeConstraints:^(MASConstraintMaker *make) {    make.left.equalTo(self.contentView).offset(15);    make.top.equalTo(self.contentView).offset(15);    make.width.lessThanOrEqualTo(@60);    make.height.lessThanOrEqualTo(self.contentView.mas_height).offset(- 20);    }];    [self.detailLbl mas_makeConstraints:^(MASConstraintMaker *make) {    make.left.equalTo(self.contentView).offset(90);    make.top.equalTo(self.contentView).offset(15);    make.right.equalTo(self.contentView).offset(-65);    make.height.lessThanOrEqualTo(self.contentView.mas_height).offset(- 20);    }];    [self.timeLbl mas_makeConstraints:^(MASConstraintMaker *make) {    make.right.equalTo(self.contentView).offset(-15);    make.top.equalTo(self.contentView).offset(15);    make.width.lessThanOrEqualTo(@50);    make.height.lessThanOrEqualTo(self.contentView.mas_height).offset(- 20);    }];}</code></pre><p>è¿™æ ·è¿™æ ·æ‰æ˜¯æˆ‘ä»¬éœ€è¦çš„æœ€ç»ˆç»“æœå‘¢ï¼ï¼^_^<br>å“ªæ€•å­—å†å¤šä¹Ÿä¸æ˜¯é—®é¢˜äº†<br>å¦‚å›¾<br><img src="http://7xjg07.com1.z0.glb.clouddn.com/DeeSimulator%20Screen%20Shot%202015å¹´9æœˆ27æ—¥%20ä¸‹åˆ3.27.37.png" alt="cellFinal"><br>å¥½å§ã€‚ã€‚å›¾æ˜¯æœ‰ç‚¹ä¸‘ï¼Œä½†æ˜¯è¿™æ ·æ‰æ˜¯æ¯”è¾ƒæç«¯çš„æƒ…å†µ<br><br></p><p>å¦‚æœæœ‰ä»€ä¹ˆä¸å¯¹ï¼Œæˆ–è€…æœ‰æ›´å¥½çš„è§£å†³æ–¹æ³•ï¼Œè¿˜æœ›æŒ‡å‡ºï¼Œä¸‡åˆ†æ„Ÿè°¢ğŸ˜€<br>ä»¥ä¸‹æ˜¯å®Œæ•´é¡¹ç›®é“¾æ¥<a href="https://github.com/Deeer/DeeLearning" target="_blank" rel="noopener">https://github.com/Deeer/DeeLearning</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘åšé¡¹ç›®æ—¶é‡åˆ°ä¸ªcellçš„é«˜åº¦è‡ªé€‚åº”é—®é¢˜,å¤§è‡´çš„éœ€æ±‚æ˜¯è¿™æ ·å­çš„&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xjg07.com1.z0.glb.clouddn.com/DeeIMG_0006.jpg&quot; alt=&quot;Cellè‡ªé€‚åº”&quot;&gt;&lt;/p&gt;
&lt;p&gt;cellä¸­ä¸»è¦æœ‰ä¸‰å—åŒºåŸŸåˆ†åˆ«å¯¹åº”ä¸‰ä¸ªlabelã€‚å¹¶ä¸”ä¸‰ä¸ªlabelçš„yå€¼æ˜¯ç›¸åŒçš„ã€‚æ¯ä¸ªlabelä¹‹é—´çš„æ–‡å­—éƒ½æœ‰ä¸€å®šçš„è·ç¦»ï¼Œä½¿å¾—æ¯å—åŒºåŸŸéƒ½æœ‰ä¸€ä¸ªå¾ˆå¥½çš„åˆ’åˆ†ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="iOSDemo" scheme="http://deeer.github.io/categories/iOSDemo/"/>
    
    
      <category term="UITabelViewCell" scheme="http://deeer.github.io/tags/UITabelViewCell/"/>
    
  </entry>
  
  <entry>
    <title>new</title>
    <link href="http://deeer.github.io/2015/06/01/new/"/>
    <id>http://deeer.github.io/2015/06/01/new/</id>
    <published>2015-05-31T18:26:59.000Z</published>
    <updated>2018-02-27T14:56:34.000Z</updated>
    
    <content type="html"><![CDATA[<p>è®°äºï¼š2015å¹´6æœˆ1æ—¥å‡Œæ™¨2ï¼š30. è‡ªå·±åšçš„ç¬¬ä¸€ä¸ªåšå®¢ï¼Œå…­ä¸€å¿«ä¹ï¼ï¼ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è®°äºï¼š2015å¹´6æœˆ1æ—¥å‡Œæ™¨2ï¼š30. è‡ªå·±åšçš„ç¬¬ä¸€ä¸ªåšå®¢ï¼Œå…­ä¸€å¿«ä¹ï¼ï¼ï¼&lt;/p&gt;

      
    
    </summary>
    
      <category term="LIFE" scheme="http://deeer.github.io/categories/LIFE/"/>
    
    
      <category term="LIFE" scheme="http://deeer.github.io/tags/LIFE/"/>
    
  </entry>
  
</feed>
